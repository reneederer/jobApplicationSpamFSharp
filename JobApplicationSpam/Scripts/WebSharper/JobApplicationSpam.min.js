(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;a=window;b=a.JobApplicationSpam=a.JobApplicationSpam||{};c=b.Types=b.Types||{};d=c.JobApplicationPageAction=c.JobApplicationPageAction||{};e=c.DocumentItem=c.DocumentItem||{};f=b.Client=b.Client||{};g=f.Language=f.Language||{};h=f.Str=f.Str||{};i=f.AddEmployerAction=f.AddEmployerAction||{};j=a.StartupCode$JobApplicationSpam$Client=a.StartupCode$JobApplicationSpam$Client||{};k=a.IntelliFactory;l=k&&k.Runtime;m=a.WebSharper;n=m&&m.Concurrency;o=m&&m.Remoting;p=o&&o.AjaxRemotingProvider;q=m&&m.UI;r=q&&q.Next;s=r&&r.Var;t=r&&r.Doc;u=r&&r.AttrProxy;v=r&&r.AttrModule;w=m&&m.List;x=m&&m.Seq;y=m&&m.Unchecked;z=m&&m.Collections;A=z&&z.Map;B=m&&m.Arrays;C=a.Date;D=m&&m.Utils;E=m&&m.Operators;F=m&&m.Strings;d=c.JobApplicationPageAction=l.Class({toString:function(){return this.$==1?"Create":this.$==2?"UseCreated":"Upload";}},null,d);d.UseCreated=new d({$:2});d.Create=new d({$:1});d.Upload=new d({$:0});e=c.DocumentItem=l.Class({PageIndex:function(){return this.$==1?this.$0.pageIndex:this.$0.pageIndex;},Name:function(){return this.$==1?this.$0.name:this.$0.name;}},null,e);g.German={$:1};g.English={$:0};h.StrUserValuesMobilePhone={$:30};h.StrUserValuesPhone={$:29};h.StrUserValuesCity={$:28};h.StrUserValuesPostcode={$:27};h.StrUserValuesStreet={$:26};h.StrUserValuesLastName={$:25};h.StrUserValuesFirstName={$:24};h.StrUserValuesDegree={$:23};h.StrUserValuesGender={$:22};h.StrSubmitEditUserValues={$:21};h.StrEditUserValues={$:20};h.StrAddFile={$:19};h.StrUserAppliesAs={$:18};h.StrEmailBody={$:17};h.StrEmailSubject={$:16};h.StrTemplateName={$:15};h.StrUploadTemplate={$:14};h.StrBossMobilePhone={$:13};h.StrBossPhone={$:12};h.StrBossEmail={$:11};h.StrBossLastName={$:10};h.StrBossFirstName={$:9};h.StrBossDegree={$:8};h.StrBossGender={$:7};h.StrCompanyCity={$:6};h.StrCompanyPostcode={$:5};h.StrCompanyStreet={$:4};h.StrCompanyName={$:3};h.StrAddEmployer={$:2};h.StrFemale={$:1};h.StrMale={$:0};i.JustAddEmployer={$:2};i.SendJobApplicationToUserOnly={$:1};i.ApplyImmediately={$:0};f.templates=function(){var G,H,I,J,K,L,M;function N(){var W;W=null;return n.Delay(function(){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getDocumentNames:1994133801",[]),function(X){s.Set(H,t.Element("select",[u.Create("id","selectDocumentName"),v.Handler("change",function(){return function(){return S();};})],w.ofSeq(x.delay(function(){return x.map(function(Y){return t.Element("option",[],[t.TextNode(Y)]);},X);}))));return n.Zero();});});}function O(){var W;W=null;return n.Delay(function(){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getPageTemplates:-1239889210",[]),function(X){s.Set(I,t.Element("select",[u.Create("id","selectPageTemplate"),v.Handler("change",function(){return function(){return T();};})],w.ofSeq(x.delay(function(){return x.map(function(Y){return t.Element("option",[],[t.TextNode(Y.name)]);},X);}))));return n.Zero();});});}function P(){var W;W=null;return n.Delay(function(){s.Set(J,t.Element("ul",[],w.ofSeq(x.delay(function(){return x.collect(function(X){var Y,Z;return X.$==1?(Y=X.$0,[t.Element("li",[],[t.Element("button",[v.Handler("click",function(){return function(){s.Set(K,Y.pageIndex);return V();};})],[t.TextNode(X.Name())])])]):(Z=X.$0,[t.Element("li",[],[t.Element("button",[v.Handler("click",function(){return function(){var _0;return n.Start((_0=null,n.Delay(function(){a.document.getElementById("selectPageTemplate").selectedIndex=Z.templateId-1;s.Set(K,Z.pageIndex);return n.Bind(U(),function(){return n.Bind(R(),function(){return n.Return(null);});});})),null);};})],[t.TextNode(X.Name())])])]);},w.sortBy(function(X){return X.PageIndex();},G.c.items));}))));return n.Zero();});}function Q(){var W;W=null;return n.Delay(function(){var X;X=!y.Equals(a.document.getElementById("selectDocumentName"),null)?a.document.getElementById("selectDocumentName").selectedIndex:0;return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getDocumentOffset:-1572854490",[X]),function(Y){s.Set(G,Y);return n.Zero();});});}function R(){var W;W=null;return n.Delay(function(){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getCurrentUserValues:-337599557",[]),function(X){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getCurrentUserEmail:-834772631",[]),function(Y){var Z,_0,_1;return n.Combine(n.For(A.OfArray(B.ofSeq(w.ofArray([["userDegree",X.degree],["userFirstName",X.firstName],["userLastName",X.lastName],["userStreet",X.street],["userPostcode",X.postcode],["userCity",X.city],["userEmail",Y],["userPhone",X.phone],["userMobilePhone",X.mobilePhone],["today",((((l.Curried(function(_2,_3,_4,_5){return _2(a.String(_3)+"-"+a.String(_4)+"-"+a.String(_5));},4))(a.id))((Z=C.now(),(new C(Z)).getFullYear())))((_0=C.now(),(new C(_0)).getMonth()+1)))((_1=C.now(),(new C(_1)).getDate()))]]))),function(_2){a.jQuery((function(_3){return function(_4){return _3("[data-variable-value='"+D.toSafe(_4)+"']");};}(a.id))(_2.K)).val(_2.V);return n.Zero();}),n.Delay(function(){var _2;_2=a.document.getElementById("selectDocumentName").selectedIndex;return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getDocumentMapOffset:742047247",[K.c,_2]),function(_3){return n.Combine(n.For(E.range(0,1000),function(){return y.Equals(a.document.getElementById("insertDiv"),null)?n.Bind(n.Sleep(10),function(){return n.Return(null);}):n.Zero();}),n.Delay(function(){return n.Combine(_3.ContainsKey("mainText")?(a.jQuery("#mainText").val(F.Replace(_3.get_Item("mainText"),"\\n","\n")),n.Zero()):n.Zero(),n.Delay(function(){a.jQuery(".field-updating").each(function(_4,_5){_5.addEventListener("input",function(){var _6;_6=a.String(a.jQuery(_5).data("update-field"));_6==="userDegree"?a.alert("userDegree"):_6==="userFirstName"?a.alert("FirstName!"):_6==="userLastName"?a.alert("LastName!"):void 0;a.jQuery((function(_7){return function(_8){return _7("[data-update-field='"+D.toSafe(_8)+"']");};}(a.id))(a.String(a.jQuery(_5).data("update-field")))).each(function(_7,_8){if(!y.Equals(_8,_5))a.jQuery(_8).val(a.String(a.jQuery(_5).val()));});return null;},true);});return n.Zero();}));}));});}));});});});}function S(){var W;n.Start((W=null,n.Delay(function(){return n.Bind(Q(),function(){return n.Bind(P(),function(){return n.Return(null);});});})),null);}function T(){var W;n.Start((W=null,n.Delay(function(){return n.Bind(U(),function(){return n.Bind(R(),function(){return n.Return(null);});});})),null);}function U(){var W;W=null;return n.Delay(function(){a.jQuery("#insertDiv").remove();return n.Combine(n.While(function(){return!y.Equals(a.document.getElementById("insertDiv"),null);},n.Delay(function(){return n.Bind(n.Sleep(10),function(){return n.Return(null);});})),n.Delay(function(){var X;X=a.document.getElementById("selectPageTemplate").selectedIndex;return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getPageTemplate:-1212795141",[X+1]),function(Y){s.Set(L,t.Verbatim(Y));return n.While(function(){return y.Equals(a.document.getElementById("insertDiv"),null);},n.Delay(function(){return n.Bind(n.Sleep(10),function(){return n.Return(null);});}));});}));});}function V(){s.Set(L,t.Element("div",[],[t.TextNode("file")]));}G=s.CreateWaiting();H=s.CreateWaiting();I=s.CreateWaiting();J=s.CreateWaiting();K=s.Create$1(1);L=s.Create$1(t.Element("div",[],[]));n.Start((M=null,n.Delay(function(){return n.Bind(N(),function(){return n.Bind(Q(),function(){return n.Bind(P(),function(){return n.Bind(O(),function(){return n.Combine(n.For(E.range(0,1000),function(){return y.Equals(a.document.getElementById("selectDocumentName"),null)?n.Bind(n.Sleep(10),function(){return n.Return(null);}):n.Zero();}),n.Delay(function(){a.document.getElementById("selectDocumentName").selectedIndex=0;return n.Combine(n.For(E.range(0,1000),function(){return y.Equals(a.document.getElementById("selectPageTemplate"),null)?n.Bind(n.Sleep(10),function(){return n.Return(null);}):n.Zero();}),n.Delay(function(){return n.Bind(R(),function(){return n.Return(null);});}));}));});});});});})),null);return t.Element("div",[],[t.TextNode("Your application documents: "),t.EmbedView(H.v),t.EmbedView(J.v),t.EmbedView(I.v),t.EmbedView(L.v)]);};f.createTemplate=function(){return t.TextNode("abc");};f.showSentJobApplications=function(){return t.Element("h1",[],[t.TextNode("hallo")]);};f.register=function(){var G,H,I;G=s.Create$1("");H=s.Create$1("");I=s.Create$1("");return t.Element("form",[v.Handler("submit",function(){return function(){var J;return n.Start((J=null,n.Delay(function(){(new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.register:-788765221",[G.c,H.c,I.c]);return n.Return(null);})),null);};})],[t.Element("div",[u.Create("class","form-group")],[t.Element("label",[u.Create("for","txtRegisterEmail")],[t.TextNode("Email")]),t.Input([u.Create("class","form-control"),u.Create("id","txtRegisterEmail"),u.Create("placeholder","Email")],G),t.Element("label",[u.Create("for","txtRegisterPassword1")],[t.TextNode("Password")]),t.PasswordBox([u.Create("class","form-control"),u.Create("id","txtRegisterPassword1"),u.Create("placeholder","Password")],H),t.Element("label",[u.Create("for","txtRegisterPassword2")],[t.TextNode("Password")]),t.PasswordBox([u.Create("class","form-control"),u.Create("id","txtRegisterPassword2"),u.Create("placeholder","Repeat Password")],I),t.Element("input",[u.Create("type","submit"),u.Create("value","Register")],[])])]);};f.login=function(){var G,H;G=s.Create$1("");H=s.Create$1("");return t.Element("form",[v.Handler("submit",function(){return function(){var I;I=(new p.New()).Sync("JobApplicationSpam:JobApplicationSpam.Server.login:1280212622",[G.c,H.c]);return I.$==1?a.alert(F.concat(", ",I.$0)):null;};})],[t.Element("div",[u.Create("class","form-group")],[t.Element("label",[u.Create("for","txtLoginEmail")],[t.TextNode("Email")]),t.Input([u.Create("class","form-control"),u.Create("id","txtLoginEmail"),u.Create("placeholder","Email")],G)]),t.Element("div",[u.Create("class","form-group")],[t.Element("label",[u.Create("for","txtLoginPassword")],[t.TextNode("Password")]),t.PasswordBox([u.Create("class","form-control"),u.Create("id","txtLoginPassword"),u.Create("placeholder","Password")],H)]),t.Element("input",[u.Create("type","submit"),u.Create("value","Login")],[])]);};f.uploadTemplate=function(){return t.Element("div",[],[]);};f.applyNow=function(){return t.Element("div",[],[]);};f.addEmployer=function(){return t.Element("div",[],[]);};f.editUserValues=function(){return t.Element("div",[],[]);};f.currentLanguage=function(){j.$cctor();return j.currentLanguage;};f.translate=function(G,H){return G.$==1?H.$==1?"weiblich":H.$==2?"Arbeitgeber eingeben":H.$==3?"Firmenname":H.$==4?"Straße":H.$==5?"Postleitzahl":H.$==6?"Stadt":H.$==7?"Geschlecht":H.$==8?"Titel":H.$==9?"Vorname":H.$==10?"Nachname":H.$==11?"Email":H.$==12?"Telefon":H.$==13?"Mobiltelefon":H.$==14?"Vorlage hochladen":H.$==16?"Email-Betreff":H.$==17?"Email-Text":H.$==15?"Name der Vorlage":H.$==18?"Beruf":H.$==19?"Datei hinzufügen":H.$==20?"Angaben zum Bewerber":H.$==21?"Speichern":H.$==22?"Geschlecht":H.$==23?"Titel":H.$==24?"Vorname":H.$==25?"Nachname":H.$==26?"Straße":H.$==27?"PLZ":H.$==28?"Stadt":H.$==29?"Telefon":H.$==30?"Mobiltelefon":"männlich":H.$==1?"female":H.$==2?"Add Employer":H.$==3?"Company name":H.$==9?"First name":H.$==10?"Last name":H.$==4?"Street":H.$==5?"Postcode":H.$==6?"City":H.$==7?"Gender":H.$==8?"Degree":H.$==11?"Email":H.$==12?"Phone":H.$==13?"Mobile phone":H.$==14?"Add template":H.$==16?"Email subject":H.$==17?"Email body":H.$==15?"Template name":H.$==18?"Job":H.$==19?"Add file":H.$==20?"Edit your values":H.$==21?"Save values":H.$==22?"Gender":H.$==23?"Degree":H.$==24?"First name":H.$==25?"Last name":H.$==26?"Street":H.$==27?"Postcode":H.$==28?"City":H.$==29?"Phone":H.$==30?"Mobile phone":"male";};j.$cctor=function(){j.$cctor=a.ignore;j.currentLanguage=g.German;};}());
