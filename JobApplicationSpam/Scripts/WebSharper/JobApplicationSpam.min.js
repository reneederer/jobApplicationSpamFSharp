(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;a=window;b=a.JobApplicationSpam=a.JobApplicationSpam||{};c=b.Types=b.Types||{};d=c.JobApplicationContent=c.JobApplicationContent||{};e=b.Client=b.Client||{};f=e.Language=e.Language||{};g=e.Str=e.Str||{};h=e.AddEmployerAction=e.AddEmployerAction||{};i=a.StartupCode$JobApplicationSpam$Client=a.StartupCode$JobApplicationSpam$Client||{};j=a.IntelliFactory;k=j&&j.Runtime;l=a.WebSharper;m=l&&l.Concurrency;n=l&&l.Remoting;o=n&&n.AjaxRemotingProvider;p=l&&l.UI;q=p&&p.Next;r=q&&q.Var;s=l&&l.Strings;t=l&&l.Seq;u=l&&l.Utils;v=l&&l.List;w=l&&l.Arrays;x=l&&l.Collections;y=x&&x.Map;z=q&&q.Doc;A=q&&q.AttrProxy;B=q&&q.AttrModule;C=a.Date;d=c.JobApplicationContent=k.Class({toString:function(){return this.$==1?"Create":this.$==2?"Ignore":"Upload";}},null,d);d.Ignore=new d({$:2});d.Create=new d({$:1});d.Upload=new d({$:0});f.German={$:1};f.English={$:0};g.StrUserValuesMobilePhone={$:30};g.StrUserValuesPhone={$:29};g.StrUserValuesCity={$:28};g.StrUserValuesPostcode={$:27};g.StrUserValuesStreet={$:26};g.StrUserValuesLastName={$:25};g.StrUserValuesFirstName={$:24};g.StrUserValuesDegree={$:23};g.StrUserValuesGender={$:22};g.StrSubmitEditUserValues={$:21};g.StrEditUserValues={$:20};g.StrAddFile={$:19};g.StrUserAppliesAs={$:18};g.StrEmailBody={$:17};g.StrEmailSubject={$:16};g.StrTemplateName={$:15};g.StrUploadTemplate={$:14};g.StrBossMobilePhone={$:13};g.StrBossPhone={$:12};g.StrBossEmail={$:11};g.StrBossLastName={$:10};g.StrBossFirstName={$:9};g.StrBossDegree={$:8};g.StrBossGender={$:7};g.StrCompanyCity={$:6};g.StrCompanyPostcode={$:5};g.StrCompanyStreet={$:4};g.StrCompanyName={$:3};g.StrAddEmployer={$:2};g.StrFemale={$:1};g.StrMale={$:0};h.JustAddEmployer={$:2};h.SendJobApplicationToUserOnly={$:1};h.ApplyImmediately={$:0};e.createTemplate=function(){var D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7;function _8(bh){var bi;m.Start((bi=null,m.Delay(function(){return m.Bind((new o.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getHtmlJobApplicationOffset:-164096779",[bh]),function(bj){r.Set(_0,bj);a.jQuery("#mainText").val(s.Replace(t.nth(0,bj.pages).map.get_Item("mainText"),"\\n","\n"));return m.Zero();});})),null);}function _9(){var bh;m.Start((bh=null,m.Delay(function(){return m.Bind((new o.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getHtmlJobApplicationNames:1994133801",[]),function(bi){return m.Combine(!(bi.$==0)?(r.Set(_2,bi.get_Item(0)),r.Set(_1,bi),m.Zero()):m.Zero(),m.Delay(function(){return m.Bind((new o.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getHtmlJobApplicationPageTemplateNames:1994133801",[]),function(bj){return m.Combine(!(bj.$==0)?(r.Set(_4,bj.get_Item(0)),r.Set(_3,bj),m.Zero()):m.Zero(),m.Delay(function(){_8(t.length(bi)-1);return m.Zero();}));});}));});})),null);}function _(){if(Q.c.$==0)r.Set(Y,"Sehr geehrter Herr "+R.c+" "+T.c+"\n"+Y.c);else r.Set(Y,"Sehr geehrte Frau "+R.c+" "+T.c+"\n"+Y.c);}function $(bh,bi,bj,bk,bl){var bm,bn;bm=s.Replace(a.String(bh.val())," ","&nbsp;");bm===""?bh.width(bl):(bn=a.jQuery("<span />").attr("style",((((k.Curried(function(bo,bp,bq,br){return bo("font-family:"+u.toSafe(bp)+"; font-size: "+u.toSafe(bq)+"; font-weight: "+u.toSafe(br)+"; visibility: hidden");},4))(a.id))(bi))(bj))(bk)).html(bm),bn.appendTo("body"),bh.width(bn.width()),a.jQuery("body span").last().remove());return null;}function ba(bh,bi,bj,bk){var bl,bm,bn;bl=s.Replace(a.String(bh)," ","&nbsp;");bm=a.jQuery("<span />").attr("style",((((k.Curried(function(bo,bp,bq,br){return bo("font-family: "+u.toSafe(bp)+"; font-size: "+u.toSafe(bq)+"; font-weight: "+u.toSafe(br)+"; letter-spacing:0pt; visibility: hidden;");},4))(a.id))(bi))(bj))(bk)).html(bl);bm.appendTo("body");bn=bm.width();a.jQuery("body span:last").remove();return bn;}function bb(bh,bi,bj,bk,bl){var bm,bn,bo,bp,bq,br;bm=0;bn=bh.length;bo=30;while(true)if(bo<0)return bh.length;else{bp=bm+((bn-bm+1)/2>>0);bq=s.Substring(bh,0,bp);br=ba(bq,bj,bk,bl);if(br>bi){if(bn===bp){a.alert(a.String(bp-1));return bp-1;}else{bn=bp;bo=bo-1;}}else{bm=bp;bo=bo-1;}}}function bc(bh,bi,bj,bk,bl){return v.unfold(function(bm){var bn,bo,bp,bq,br,bs,bt,bu;return bm.$==1?(bn=bm.$0,(bo=bb(bn,bi,bj,bk,bl),(bp=(bq=w.tryFindIndexBack(function(bv){return v.contains(bv,v.ofArray([" ",".",",",";","-"]));},w.take(bo,s.ToCharArray(bn))),(br=bo===bn.length,bq!=null&&bq.$==1?br?bo:bq.$0+1:bo)),(a.alert(a.String(bp)),bs=s.Substring(bn,0,bp),bt=bn.substring(bp),bu=bm.$1,bt===""?bu.$==1?{$:1,$0:[bs,new v.T({$:1,$0:bu.$0,$1:bu.$1})]}:{$:1,$0:[bs,v.T.Empty]}:bu.$==1?{$:1,$0:[bs,new v.T({$:1,$0:bt,$1:new v.T({$:1,$0:bu.$0,$1:bu.$1})})]}:{$:1,$0:[bs,v.ofArray([bt])]})))):null;},v.ofArray(w.map(function(bm){return s.EndsWith(bm," ")?s.TrimEnd(bm,[" "])+"\n":bm;},s.SplitChars(bh,["\n"],0))));}function bd(bh){var bi;bi=null;return m.Delay(function(){var bj;bj={name:bh,pages:v.ofArray([{name:"Anschreiben",jobApplicationPageTemplateId:1,map:y.OfArray(w.ofSeq(v.ofArray([["mainText",s.concat("\n",bc(Y.c,a.jQuery("#mainText").width(),"Arial","12pt","normal"))]])))}])};return m.Bind((new o.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.saveHtmlJobApplication:-1556746703",[bj]),function(bk){return m.Return(bk);});});}function be(){var bh;bh=null;return m.Delay(function(){var bi;bi={gender:D.c,degree:E.c,firstName:F.c,lastName:G.c,street:H.c,postcode:I.c,city:J.c,phone:K.c,mobilePhone:L.c};return m.Bind((new o.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.addUserValues:1230958299",[bi]),function(){return m.Return(null);});});}function bf(){var bh;bh=null;return m.Delay(function(){var bi;bi={company:M.c,street:N.c,postcode:O.c,city:P.c,gender:Q.c,degree:R.c,firstName:S.c,lastName:T.c,email:U.c,phone:V.c,mobilePhone:W.c};return m.Bind((new o.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.addEmployer:-762170454",[bi]),function(bj){return m.Return(bj.$==1?null:{$:1,$0:bj.$0});});});}function bg(){var bh;m.Start((bh=null,m.Delay(function(){return m.Bind(bf(),function(bi){return m.Bind(be(),function(){return m.Bind(bd(_2.c),function(){var bj,bk,bl;return bi==null?m.Zero():(bj={name:_0.c.name,pages:v.ofArray([{name:"Anschreiben",jobApplicationPageTemplateId:1,map:y.OfArray(w.ofSeq(v.ofArray([["mainText",Y.c]])))}])},(bk={gender:D.c,degree:E.c,firstName:F.c,lastName:G.c,street:H.c,postcode:I.c,city:J.c,phone:K.c,mobilePhone:L.c},(bl={company:M.c,street:N.c,postcode:O.c,city:P.c,gender:Q.c,degree:R.c,firstName:S.c,lastName:T.c,email:U.c,phone:V.c,mobilePhone:W.c},((new o.New()).Send("JobApplicationSpam:JobApplicationSpam.Server.applyNowWithHtmlTemplate:-77811991",[bl,bi.$0,bj,bk]),m.Zero()))));});});});})),null);}D=r.Create$1({$:1});E=r.Create$1("");F=r.Create$1("");G=r.Create$1("");H=r.Create$1("");I=r.Create$1("");J=r.Create$1("");K=r.Create$1("");L=r.Create$1("");M=r.Create$1("");N=r.Create$1("");O=r.Create$1("");P=r.Create$1("");Q=r.Create$1({$:0});R=r.Create$1("");S=r.Create$1("");T=r.Create$1("");U=r.Create$1("");V=r.Create$1("");W=r.Create$1("");X=r.Create$1("Bewerbung als ...");Y=r.Create$1("");Z=r.Create$1(d.Upload);_0=r.Create$1({name:"",pages:v.T.Empty});_1=r.Create$1(v.ofArray([""]));_2=r.Create$1("");_3=r.Create$1(v.ofArray([""]));_4=r.Create$1("");_5=r.Create$1("");r.Create$1(0);_9();m.Start((_6=null,m.Delay(function(){return m.Bind((new o.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getCurrentUserValues:-337599557",[]),function(bh){r.Set(D,bh.gender);r.Set(E,bh.degree);r.Set(F,bh.firstName);r.Set(G,bh.lastName);r.Set(H,bh.street);r.Set(I,bh.postcode);r.Set(J,bh.city);r.Set(K,bh.phone);r.Set(L,bh.mobilePhone);return m.Zero();});})),null);return z.Element("div",[],[z.Element("h1",[],[z.TextNode("Create a template")]),z.SelectDyn([A.Create("style","min-width: 300px"),A.Create("id","selectHtmlJobApplicationName"),B.Handler("change",function(bh){return function(){return _8(bh.selectedIndex);};})],a.id,_1.v,_2),z.SelectDyn([A.Create("style","min-width: 300px"),A.Create("id","selectHtmlJobApplicationPageTemplate")],a.id,_3.v,_4),z.Element("div",[],[z.Radio([A.Create("id","uploadCover"),B.Handler("click",function(){return function(){return a.alert(a.String(Z.c));};}),A.Create("radiogroup","cover")],d.Upload,Z),z.Element("label",[A.Create("for","uploadCover")],[z.TextNode("Hochladen")]),z.Element("br",[],[]),z.Radio([A.Create("id","createCover"),B.Handler("click",function(){return function(){return a.alert(a.String(Z.c));};}),A.Create("radiogroup","cover")],d.Create,Z),z.Element("label",[A.Create("for","createCover")],[z.TextNode("Online erstellen")]),z.Element("br",[],[]),z.Radio([A.Create("id","ignoreCover"),B.Handler("click",function(){return function(){return a.alert(a.String(Z.c));};}),A.Create("radiogroup","cover")],d.Ignore,Z),z.Element("label",[A.Create("for","ignoreCover")],[z.TextNode("Nicht verwenden")]),z.Element("br",[],[])]),z.Element("div",[A.Create("class","page")],[z.Element("div",[A.Create("style","height: 225pt; width: 100%; background-color: lightblue")],[z.Input([A.Create("class","grow-input"),A.Create("autofocus","autofocus"),B.Handler("input",function(bh){return function(){$(a.jQuery(bh),"Arial","12pt","normal",150);return _9();};}),A.Create("placeholder","Dein Titel")],E),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Dein Vorname")],F),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Dein Nachname")],G),z.Element("br",[],[]),z.Input([A.Create("class","grow-input"),A.Create("style","width:150px"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Deine Straße")],H),z.Element("br",[],[]),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Deine Postleitzahl")],I),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Deine Stadt")],J),z.Element("br",[],[]),z.Element("br",[],[]),z.Element("br",[],[]),z.Select([B.Handler("change",function(){return function(){return _();};})],function(bh){return bh.$==1?"Frau":"Herrn";},v.ofArray([{$:0},{$:1}]),Q),z.Element("br",[],[]),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Chef-Titel")],R),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Chef-Vorname")],S),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Chef-Nachname")],T),z.Element("br",[],[]),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Firma-Strasse")],N),z.Element("br",[],[]),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Firma-Postleitzahl")],O),z.Input([A.Create("class","grow-input"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","normal",150);};}),A.Create("placeholder","Firma-Stadt")],P),z.Element("br",[],[]),z.Element("span",[A.Create("style","float:right")],[z.TextView(J.v),z.TextNode(", "+(_7=C.now(),(new C(_7)).toLocaleDateString()))]),z.Element("br",[],[]),z.Element("br",[],[]),z.Input([A.Create("class","grow-input"),A.Create("style","font-weight: bold;"),B.Handler("input",function(bh){return function(){return $(a.jQuery(bh),"Arial","12pt","bold",150);};}),A.Create("placeholder","Betreff")],X),z.Element("br",[],[]),z.Element("br",[],[])]),z.Element("div",[A.Create("style","width:100%; min-height: 322.4645709pt; background-color:red;")],[z.InputArea([A.Create("id","mainText"),A.Create("style","wrap: soft; border: none; outline: none; letter-spacing:0pt; margin: 0px; padding: 0px; background-color: lighblue; overflow: hidden; min-height: 322.4645709pt; min-width:100%; font-family: Arial; font-size: 12pt; font-weight: normal; display: block")],Y)]),z.Element("div",[A.Create("style","height:96pt; width: 100%;")],[z.Element("br",[],[]),z.TextNode("Mit freundlichen Grüßen"),z.Element("br",[],[]),z.Element("br",[],[]),z.Element("br",[],[]),z.TextView(E.v),z.TextNode(" "),z.TextView(F.v),z.TextNode(" "),z.TextView(G.v)])]),z.Input([],_5),z.Element("br",[],[]),z.Element("input",[A.Create("type","button"),A.Create("value","Abschicken"),B.Handler("click",function(){return function(){return bg();};})],[])]);};e.showSentJobApplications=function(){return z.Element("h1",[],[z.TextNode("hallo")]);};e.register=function(){var D,E,F;D=r.Create$1("");E=r.Create$1("");F=r.Create$1("");return z.Element("form",[B.Handler("submit",function(){return function(){var G;return m.Start((G=null,m.Delay(function(){(new o.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.register:-788765221",[D.c,E.c,F.c]);return m.Return(null);})),null);};})],[z.Element("div",[A.Create("class","form-group")],[z.Element("label",[A.Create("for","txtRegisterEmail")],[z.TextNode("Email")]),z.Input([A.Create("class","form-control"),A.Create("id","txtRegisterEmail"),A.Create("placeholder","Email")],D),z.Element("label",[A.Create("for","txtRegisterPassword1")],[z.TextNode("Password")]),z.PasswordBox([A.Create("class","form-control"),A.Create("id","txtRegisterPassword1"),A.Create("placeholder","Password")],E),z.Element("label",[A.Create("for","txtRegisterPassword2")],[z.TextNode("Password")]),z.PasswordBox([A.Create("class","form-control"),A.Create("id","txtRegisterPassword2"),A.Create("placeholder","Repeat Password")],F),z.Element("input",[A.Create("type","submit"),A.Create("value","Register")],[])])]);};e.login=function(){var D,E;D=r.Create$1("");E=r.Create$1("");return z.Element("form",[B.Handler("submit",function(){return function(){var F;F=(new o.New()).Sync("JobApplicationSpam:JobApplicationSpam.Server.login:1280212622",[D.c,E.c]);return F.$==1?a.alert(s.concat(", ",F.$0)):null;};})],[z.Element("div",[A.Create("class","form-group")],[z.Element("label",[A.Create("for","txtLoginEmail")],[z.TextNode("Email")]),z.Input([A.Create("class","form-control"),A.Create("id","txtLoginEmail"),A.Create("placeholder","Email")],D)]),z.Element("div",[A.Create("class","form-group")],[z.Element("label",[A.Create("for","txtLoginPassword")],[z.TextNode("Password")]),z.PasswordBox([A.Create("class","form-control"),A.Create("id","txtLoginPassword"),A.Create("placeholder","Password")],E)]),z.Element("input",[A.Create("type","submit"),A.Create("value","Login")],[])]);};e.uploadTemplate=function(){return z.Element("div",[],[]);};e.applyNow=function(){return z.Element("div",[],[]);};e.addEmployer=function(){return z.Element("div",[],[]);};e.editUserValues=function(){return z.Element("div",[],[]);};e.currentLanguage=function(){i.$cctor();return i.currentLanguage;};e.translate=function(D,E){return D.$==1?E.$==1?"weiblich":E.$==2?"Arbeitgeber eingeben":E.$==3?"Firmenname":E.$==4?"Straße":E.$==5?"Postleitzahl":E.$==6?"Stadt":E.$==7?"Geschlecht":E.$==8?"Titel":E.$==9?"Vorname":E.$==10?"Nachname":E.$==11?"Email":E.$==12?"Telefon":E.$==13?"Mobiltelefon":E.$==14?"Vorlage hochladen":E.$==16?"Email-Betreff":E.$==17?"Email-Text":E.$==15?"Name der Vorlage":E.$==18?"Beruf":E.$==19?"Datei hinzufügen":E.$==20?"Angaben zum Bewerber":E.$==21?"Speichern":E.$==22?"Geschlecht":E.$==23?"Titel":E.$==24?"Vorname":E.$==25?"Nachname":E.$==26?"Straße":E.$==27?"PLZ":E.$==28?"Stadt":E.$==29?"Telefon":E.$==30?"Mobiltelefon":"männlich":E.$==1?"female":E.$==2?"Add Employer":E.$==3?"Company name":E.$==9?"First name":E.$==10?"Last name":E.$==4?"Street":E.$==5?"Postcode":E.$==6?"City":E.$==7?"Gender":E.$==8?"Degree":E.$==11?"Email":E.$==12?"Phone":E.$==13?"Mobile phone":E.$==14?"Add template":E.$==16?"Email subject":E.$==17?"Email body":E.$==15?"Template name":E.$==18?"Job":E.$==19?"Add file":E.$==20?"Edit your values":E.$==21?"Save values":E.$==22?"Gender":E.$==23?"Degree":E.$==24?"First name":E.$==25?"Last name":E.$==26?"Street":E.$==27?"Postcode":E.$==28?"City":E.$==29?"Phone":E.$==30?"Mobile phone":"male";};i.$cctor=function(){i.$cctor=a.ignore;i.currentLanguage=f.German;};}());
