(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;a=window;b=a.JobApplicationSpam=a.JobApplicationSpam||{};c=b.Types=b.Types||{};d=c.JobApplicationPageAction=c.JobApplicationPageAction||{};e=c.DocumentPage=c.DocumentPage||{};f=b.Client=b.Client||{};g=f.Language=f.Language||{};h=f.Str=f.Str||{};i=f.AddEmployerAction=f.AddEmployerAction||{};j=a.StartupCode$JobApplicationSpam$Client=a.StartupCode$JobApplicationSpam$Client||{};k=a.IntelliFactory;l=k&&k.Runtime;m=a.WebSharper;n=m&&m.Concurrency;o=m&&m.Remoting;p=o&&o.AjaxRemotingProvider;q=m&&m.UI;r=q&&q.Next;s=r&&r.Var;t=r&&r.Doc;u=r&&r.AttrProxy;v=r&&r.AttrModule;w=m&&m.List;x=m&&m.Seq;y=m&&m.Numeric;z=m&&m.Unchecked;A=m&&m.Collections;B=A&&A.Map;C=m&&m.Arrays;D=a.Date;E=m&&m.Utils;F=m&&m.Operators;G=m&&m.Strings;d=c.JobApplicationPageAction=l.Class({toString:function(){return this.$==1?"Create":this.$==2?"UseCreated":"Upload";}},null,d);d.UseCreated=new d({$:2});d.Create=new d({$:1});d.Upload=new d({$:0});e=c.DocumentPage=l.Class({PageIndex:function(){return this.$==1?this.$0.pageIndex:this.$0.pageIndex;},Name:function(){return this.$==1?this.$0.name:this.$0.name;}},null,e);g.German={$:1};g.English={$:0};h.StrUserValuesMobilePhone={$:30};h.StrUserValuesPhone={$:29};h.StrUserValuesCity={$:28};h.StrUserValuesPostcode={$:27};h.StrUserValuesStreet={$:26};h.StrUserValuesLastName={$:25};h.StrUserValuesFirstName={$:24};h.StrUserValuesDegree={$:23};h.StrUserValuesGender={$:22};h.StrSubmitEditUserValues={$:21};h.StrEditUserValues={$:20};h.StrAddFile={$:19};h.StrUserAppliesAs={$:18};h.StrEmailBody={$:17};h.StrEmailSubject={$:16};h.StrTemplateName={$:15};h.StrUploadTemplate={$:14};h.StrBossMobilePhone={$:13};h.StrBossPhone={$:12};h.StrBossEmail={$:11};h.StrBossLastName={$:10};h.StrBossFirstName={$:9};h.StrBossDegree={$:8};h.StrBossGender={$:7};h.StrCompanyCity={$:6};h.StrCompanyPostcode={$:5};h.StrCompanyStreet={$:4};h.StrCompanyName={$:3};h.StrAddEmployer={$:2};h.StrFemale={$:1};h.StrMale={$:0};i.JustAddEmployer={$:2};i.SendJobApplicationToUserOnly={$:1};i.ApplyImmediately={$:0};f.templates=function(){var H,I,J,K,L,M,N,O,P,Q,R;function S(){var _4;_4=null;return n.Delay(function(){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getDocumentNames:1994133801",[]),function(_5){s.Set(I,t.Element("div",[],[t.TextNode("Your application documents: "),t.Element("select",[u.Create("id","selectDocumentName"),v.Handler("change",function(){return function(){return n.Start(_0(),null);};})],w.ofSeq(x.delay(function(){return x.map(function(_6){return t.Element("option",[],[t.TextNode(_6)]);},_5);}))),t.Element("input",[u.Create("type","button"),u.Create("style","margin-left: 20px"),u.Create("value","+"),v.Handler("click",function(){return function(){return Y();};})],[]),t.Element("input",[u.Create("type","button"),u.Create("style","margin-left: 20px"),u.Create("value","-"),v.Handler("click",function(){return function(){return n.Start(Z(),null);};})],[])]));return n.Zero();});});}function T(_4){var _5;_5=w.T.Empty;a.jQuery("#selectDocumentName option").each(function(_6,_7){_5=new w.T({$:1,$0:a.String(_7.text),$1:_5});});_5=w.append(_5,w.ofArray([_4]));s.Set(I,t.Element("div",[],[t.TextNode("Your application documents: "),t.Element("select",[u.Create("id","selectDocumentName"),v.Handler("change",function(){return function(){return n.Start(_0(),null);};})],w.ofSeq(x.delay(function(){return x.map(function(_6){return t.Element("option",[],[t.TextNode(_6)]);},_5);}))),t.Element("input",[u.Create("type","button"),u.Create("style","margin-left: 20px"),u.Create("value","+"),v.Handler("click",function(){return function(){return Y();};})],[]),t.Element("input",[u.Create("type","button"),u.Create("style","margin-left: 20px"),u.Create("value","-"),v.Handler("click",function(){return function(){return n.Start(Z(),null);};})],[])]));}function U(){var _4;_4=null;return n.Delay(function(){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getHtmlPageTemplates:1297380307",[]),function(_5){s.Set(J,t.Element("select",[u.Create("id","selectHtmlPageTemplate"),v.Handler("change",function(){return function(){return n.Start(_1(),null);};})],w.ofSeq(x.delay(function(){return x.map(function(_6){return t.Element("option",[],[t.TextNode(_6.name)]);},_5);}))));return n.Zero();});});}function V(){var _4;_4=null;return n.Delay(function(){function _5(){var _6;function _7(_){var $;$=null;return n.Delay(function(){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getDocumentIdOffset:-1214783449",[y.ParseInt32(a.String(a.document.getElementById("selectDocumentName").selectedIndex))]),function(ba){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.addHtmlPage:309601797",[ba,null,O.c+1,_]),function(){s.Set(M,t.Element("div",[],w.append(w.ofArray([M.c]),w.ofArray([t.Element("button",[v.Handler("click",function(){return function(){var bb;return n.Start((bb=null,n.Delay(function(){var bc;a.document.getElementById("selectHtmlPageTemplate").selectedIndex=(bc=null,bc==null?1:bc.$0)-1;s.Set(N,O.c);return n.Bind(_2(),function(){return n.Bind(X(),function(){return n.Return(null);});});})),null);};})],[t.TextNode(_)])]))));return n.Zero();});});});}function _8(){return t.Element("div",[],[t.TextNode("Page name: "),t.Element("br",[],[]),t.Element("input",[u.Create("id","txtAddPageName")],[]),t.Element("br",[],[]),t.Element("br",[],[]),t.Element("button",[v.Handler("click",function(){return function(){n.Start(_7(a.String(a.document.getElementById("txtAddPageName").value)),null);return s.Set(Q,t.Element("div",[],[]));};})],[t.TextNode("Add page")]),t.Element("button",[u.Create("style","margin-left: 20px"),v.Handler("click",function(){return function(){return s.Set(Q,t.Element("div",[],[]));};})],[t.TextNode("Abort")])]);}function _9(){var _;return t.Element("div",[],[t.Element("form",[u.Create("enctype","multipart/form-data"),u.Create("method","POST"),u.Create("action","")],[t.TextNode("Please choose a file: "),t.Element("br",[],[]),t.Element("input",[u.Create("type","file"),u.Create("name","file")],[]),t.Element("input",[u.Create("type","hidden"),u.Create("name","documentId"),u.Create("value",(_=a.document.getElementById("selectDocumentName").selectedIndex+1,a.String(_)))],[]),t.Element("input",[u.Create("type","hidden"),u.Create("name","pageIndex"),u.Create("value",a.String(O.c+1))],[]),t.Element("br",[],[]),t.Element("br",[],[]),t.Element("button",[u.Create("type","submit")],[t.TextNode("Add page")]),t.Element("button",[u.Create("style","margin-left: 20px"),v.Handler("click",function(){return function(){return s.Set(Q,t.Element("div",[],[]));};})],[t.TextNode("Abort")])])]);}_6=s.Create$1(t.Element("div",[],[]));return t.Element("div",[],[t.Element("input",[u.Create("type","radio"),u.Create("name","rbgrpPageType"),u.Create("id","rbHtmlPage"),v.Handler("click",function(){return function(){return s.Set(_6,_8());};})],[]),t.Element("label",[u.Create("for","rbHtmlPage")],[t.TextNode("Create online")]),t.Element("br",[],[]),t.Element("input",[u.Create("type","radio"),u.Create("id","rbFilePage"),u.Create("name","rbgrpPageType"),v.Handler("click",function(){return function(){return s.Set(_6,_9());};})],[]),t.Element("label",[u.Create("for","rbFilePage")],[t.TextNode("Upload")]),t.Element("br",[],[]),t.Element("br",[],[]),t.EmbedView(_6.v)]);}s.Set(Q,t.Element("div",[],[]));s.Set(O,H.c.pages.get_Length());s.Set(L,t.Element("div",[u.Create("id","ulPageButtons")],w.append(w.ofArray([t.EmbedView(M.v)]),w.ofArray([t.Element("div",[],[t.Element("button",[v.Handler("click",function(){return function(){return s.Set(Q,_5());};})],[t.TextNode("+")])])]))));s.Set(M,t.Element("div",[],w.ofSeq(x.delay(function(){return x.collect(function(_6){var _7,_8;return _6.$==1?(_7=_6.$0,[t.Element("div",[],[t.Element("button",[v.Handler("click",function(){return function(){s.Set(N,_7.pageIndex);return _3();};})],[t.TextNode(_6.Name())])])]):(_8=_6.$0,[t.Element("div",[],[t.Element("button",[v.Handler("click",function(){return function(){var _9;return n.Start((_9=null,n.Delay(function(){var _;a.document.getElementById("selectHtmlPageTemplate").selectedIndex=(_=_8.oTemplateId,_==null?1:_.$0)-1;s.Set(N,_8.pageIndex);return n.Bind(_2(),function(){return n.Bind(X(),function(){return n.Return(null);});});})),null);};})],[t.TextNode(_6.Name())])])]);},w.sortBy(function(_6){return _6.PageIndex();},H.c.pages));}))));return n.Zero();});}function W(){var _4;_4=null;return n.Delay(function(){var _5;_5=!z.Equals(a.document.getElementById("selectDocumentName"),null)?a.document.getElementById("selectDocumentName").selectedIndex:0;return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getDocumentOffset:-1633111335",[_5]),function(_6){return _6==null?n.Zero():(s.Set(H,_6.$0),n.Zero());});});}function X(){var _4;_4=null;return n.Delay(function(){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getCurrentUserValues:-337599557",[]),function(_5){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getCurrentUserEmail:-834772631",[]),function(_6){var _7,_8,_9;return n.Combine(n.For(B.OfArray(C.ofSeq(w.ofArray([["userDegree",_5.degree],["userFirstName",_5.firstName],["userLastName",_5.lastName],["userStreet",_5.street],["userPostcode",_5.postcode],["userCity",_5.city],["userEmail",_6],["userPhone",_5.phone],["userMobilePhone",_5.mobilePhone],["today",((((l.Curried(function(_,$,ba,bb){return _(a.String($)+"-"+a.String(ba)+"-"+a.String(bb));},4))(a.id))((_7=D.now(),(new D(_7)).getFullYear())))((_8=D.now(),(new D(_8)).getMonth()+1)))((_9=D.now(),(new D(_9)).getDate()))]]))),function(_){a.jQuery((function($){return function(ba){return $("[data-variable-value='"+E.toSafe(ba)+"']");};}(a.id))(_.K)).val(_.V);return n.Zero();}),n.Delay(function(){var _;_=a.document.getElementById("selectDocumentName").selectedIndex;return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getDocumentMapOffset:742047247",[N.c,_]),function($){return n.Combine(n.For(F.range(0,1000),function(){return z.Equals(a.document.getElementById("insertDiv"),null)?n.Bind(n.Sleep(10),function(){return n.Return(null);}):n.Zero();}),n.Delay(function(){return n.Combine($.ContainsKey("mainText")?(a.jQuery("#mainText").val(G.Replace($.get_Item("mainText"),"\\n","\n")),n.Zero()):n.Zero(),n.Delay(function(){a.jQuery(".field-updating").each(function(ba,bb){bb.addEventListener("input",function(){var bc;bc=a.String(a.jQuery(bb).data("update-field"));bc==="userDegree"?a.alert("userDegree"):bc==="userFirstName"?a.alert("FirstName!"):bc==="userLastName"?a.alert("LastName!"):void 0;a.jQuery((function(bd){return function(be){return bd("[data-update-field='"+E.toSafe(be)+"']");};}(a.id))(a.String(a.jQuery(bb).data("update-field")))).each(function(bd,be){if(!z.Equals(be,bb))a.jQuery(be).val(a.String(a.jQuery(bb).val()));});return null;},true);});return n.Zero();}));}));});}));});});});}function Y(){s.Set(K,t.Element("div",[],[t.TextNode("Name: "),t.Element("br",[],[]),t.Element("input",[u.Create("id","txtNewTemplateName")],[]),t.Element("br",[],[]),t.Element("br",[],[]),t.TextNode("Email-Subject: "),t.Element("br",[],[]),t.Element("input",[u.Create("id","txtNewTemplateEmailSubject")],[]),t.Element("br",[],[]),t.Element("br",[],[]),t.TextNode("Email-Body: "),t.Element("br",[],[]),t.Element("textarea",[u.Create("id","txtNewTemplateEmailBody"),u.Create("style","min-height: 300px; min-width: 100%")],[]),t.Element("br",[],[]),t.Element("br",[],[]),t.Element("input",[u.Create("type","button"),u.Create("value","Add"),v.Handler("click",function(){return function(){var _4;return n.Start((_4=null,n.Delay(function(){var _5,_6,_7;_5=a.String(a.document.getElementById("txtNewTemplateName").value);_6=a.String(a.document.getElementById("txtNewTemplateEmailSubject").value);_7=a.String(a.document.getElementById("txtNewTemplateEmailBody").value);return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.addNewDocument:408203192",[_5,_6,_7]),function(){T(_5);return n.Bind(Z(),function(){return n.Return(null);});});})),null);};})],[])]));s.Set(L,t.Element("div",[],[]));s.Set(J,t.Element("div",[],[]));s.Set(P,t.Element("div",[],[]));}function Z(){var _4;_4=null;return n.Delay(function(){s.Set(K,t.Element("div",[],[]));return n.Bind(V(),function(){return n.Bind(U(),function(){return n.Return(null);});});});}function _0(){var _4;_4=null;return n.Delay(function(){return n.Bind(W(),function(){return n.Bind(V(),function(){return n.Return(null);});});});}function _1(){var _4;_4=null;return n.Delay(function(){return n.Bind(_2(),function(){return n.Bind(X(),function(){return n.Return(null);});});});}function _2(){var _4;_4=null;return n.Delay(function(){a.jQuery("#insertDiv").remove();return n.Combine(n.While(function(){return!z.Equals(a.document.getElementById("insertDiv"),null);},n.Delay(function(){return n.Bind(n.Sleep(10),function(){return n.Return(null);});})),n.Delay(function(){var _5;_5=a.document.getElementById("selectHtmlPageTemplate").selectedIndex;return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getHtmlPageTemplate:-1212795141",[_5+1]),function(_6){s.Set(P,t.Verbatim(_6));return n.While(function(){return z.Equals(a.document.getElementById("insertDiv"),null);},n.Delay(function(){return n.Bind(n.Sleep(10),function(){return n.Return(null);});}));});}));});}function _3(){var _4;s.Set(P,t.Element("form",[u.Create("enctype","multipart/form-data"),u.Create("method","POST"),u.Create("action","")],[t.Element("input",[u.Create("type","file"),u.Create("name","file")],[]),t.Element("input",[u.Create("type","hidden"),u.Create("name","documentId"),u.Create("value",(_4=a.document.getElementById("selectDocumentName").selectedIndex+1,a.String(_4)))],[]),t.Element("input",[u.Create("type","hidden"),u.Create("name","pageIndex"),u.Create("value",a.String(N))],[]),t.Element("input",[u.Create("type","submit")],[])]));}H=s.CreateWaiting();I=s.Create$1(t.Element("div",[],[]));J=s.Create$1(t.Element("div",[],[]));K=s.Create$1(t.Element("div",[],[]));L=s.Create$1(t.Element("div",[],[]));M=s.Create$1(t.Element("div",[],[]));N=s.Create$1(1);O=s.Create$1(1);P=s.Create$1(t.Element("div",[],[]));Q=s.Create$1(t.Element("div",[],[]));n.Start((R=null,n.Delay(function(){return n.Bind(S(),function(){return n.Combine(n.While(function(){return z.Equals(a.document.getElementById("selectDocumentName"),null);},n.Delay(function(){return n.Bind(n.Sleep(10),function(){return n.Return(null);});})),n.Delay(function(){return n.Bind((new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getLastEditedDocumentId:-646436276",[]),function(_4){return n.Combine(_4!=null&&_4.$==1?(a.document.getElementById("selectDocumentName").selectedIndex=_4.$0-1,n.Zero()):(a.document.getElementById("selectDocumentName").selectedIndex=0,n.Zero()),n.Delay(function(){return n.Bind(W(),function(){return n.Bind(V(),function(){return n.Bind(U(),function(){return n.Combine(n.For(F.range(0,1000),function(){return z.Equals(a.document.getElementById("selectHtmlPageTemplate"),null)?n.Bind(n.Sleep(10),function(){return n.Return(null);}):n.Zero();}),n.Delay(function(){return n.Bind(X(),function(){return n.Return(null);});}));});});});}));});}));});})),null);return t.Element("div",[],[t.EmbedView(I.v),t.EmbedView(K.v),t.EmbedView(L.v),t.EmbedView(Q.v),t.EmbedView(J.v),t.EmbedView(P.v)]);};f.showSentJobApplications=function(){return t.Element("h1",[],[t.TextNode("hallo")]);};f.register=function(){var H,I,J;H=s.Create$1("");I=s.Create$1("");J=s.Create$1("");return t.Element("form",[v.Handler("submit",function(){return function(){var K;return n.Start((K=null,n.Delay(function(){(new p.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.register:-788765221",[H.c,I.c,J.c]);return n.Return(null);})),null);};})],[t.Element("div",[u.Create("class","form-group")],[t.Element("label",[u.Create("for","txtRegisterEmail")],[t.TextNode("Email")]),t.Input([u.Create("class","form-control"),u.Create("id","txtRegisterEmail"),u.Create("placeholder","Email")],H),t.Element("label",[u.Create("for","txtRegisterPassword1")],[t.TextNode("Password")]),t.PasswordBox([u.Create("class","form-control"),u.Create("id","txtRegisterPassword1"),u.Create("placeholder","Password")],I),t.Element("label",[u.Create("for","txtRegisterPassword2")],[t.TextNode("Password")]),t.PasswordBox([u.Create("class","form-control"),u.Create("id","txtRegisterPassword2"),u.Create("placeholder","Repeat Password")],J),t.Element("input",[u.Create("type","submit"),u.Create("value","Register")],[])])]);};f.login=function(){var H,I;H=s.Create$1("");I=s.Create$1("");return t.Element("form",[v.Handler("submit",function(){return function(){var J;J=(new p.New()).Sync("JobApplicationSpam:JobApplicationSpam.Server.login:1280212622",[H.c,I.c]);return J.$==1?a.alert(G.concat(", ",J.$0)):null;};})],[t.Element("div",[u.Create("class","form-group")],[t.Element("label",[u.Create("for","txtLoginEmail")],[t.TextNode("Email")]),t.Input([u.Create("class","form-control"),u.Create("id","txtLoginEmail"),u.Create("placeholder","Email")],H)]),t.Element("div",[u.Create("class","form-group")],[t.Element("label",[u.Create("for","txtLoginPassword")],[t.TextNode("Password")]),t.PasswordBox([u.Create("class","form-control"),u.Create("id","txtLoginPassword"),u.Create("placeholder","Password")],I)]),t.Element("input",[u.Create("type","submit"),u.Create("value","Login")],[])]);};f.currentLanguage=function(){j.$cctor();return j.currentLanguage;};f.translate=function(H,I){return H.$==1?I.$==1?"weiblich":I.$==2?"Arbeitgeber eingeben":I.$==3?"Firmenname":I.$==4?"Straße":I.$==5?"Postleitzahl":I.$==6?"Stadt":I.$==7?"Geschlecht":I.$==8?"Titel":I.$==9?"Vorname":I.$==10?"Nachname":I.$==11?"Email":I.$==12?"Telefon":I.$==13?"Mobiltelefon":I.$==14?"Vorlage hochladen":I.$==16?"Email-Betreff":I.$==17?"Email-Text":I.$==15?"Name der Vorlage":I.$==18?"Beruf":I.$==19?"Datei hinzufügen":I.$==20?"Angaben zum Bewerber":I.$==21?"Speichern":I.$==22?"Geschlecht":I.$==23?"Titel":I.$==24?"Vorname":I.$==25?"Nachname":I.$==26?"Straße":I.$==27?"PLZ":I.$==28?"Stadt":I.$==29?"Telefon":I.$==30?"Mobiltelefon":"männlich":I.$==1?"female":I.$==2?"Add Employer":I.$==3?"Company name":I.$==9?"First name":I.$==10?"Last name":I.$==4?"Street":I.$==5?"Postcode":I.$==6?"City":I.$==7?"Gender":I.$==8?"Degree":I.$==11?"Email":I.$==12?"Phone":I.$==13?"Mobile phone":I.$==14?"Add template":I.$==16?"Email subject":I.$==17?"Email body":I.$==15?"Template name":I.$==18?"Job":I.$==19?"Add file":I.$==20?"Edit your values":I.$==21?"Save values":I.$==22?"Gender":I.$==23?"Degree":I.$==24?"First name":I.$==25?"Last name":I.$==26?"Street":I.$==27?"Postcode":I.$==28?"City":I.$==29?"Phone":I.$==30?"Mobile phone":"male";};j.$cctor=function(){j.$cctor=a.ignore;j.currentLanguage=g.German;};}());
