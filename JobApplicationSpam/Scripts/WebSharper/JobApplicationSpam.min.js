(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;a=window;b=a.JobApplicationSpam=a.JobApplicationSpam||{};c=b.Types=b.Types||{};d=c.JobApplicationContent=c.JobApplicationContent||{};e=b.Client=b.Client||{};f=e.Language=e.Language||{};g=e.Str=e.Str||{};h=e.AddEmployerAction=e.AddEmployerAction||{};i=a.StartupCode$JobApplicationSpam$Client=a.StartupCode$JobApplicationSpam$Client||{};j=a.IntelliFactory;k=j&&j.Runtime;l=a.WebSharper;m=l&&l.Strings;n=l&&l.Utils;o=l&&l.List;p=l&&l.Arrays;q=l&&l.Concurrency;r=l&&l.Collections;s=r&&r.Map;t=l&&l.Remoting;u=t&&t.AjaxRemotingProvider;v=l&&l.UI;w=v&&v.Next;x=w&&w.Var;y=w&&w.Doc;z=r&&r.FSharpMap;A=l&&l.Unchecked;B=a.Date;C=w&&w.AttrProxy;D=w&&w.AttrModule;d=c.JobApplicationContent=k.Class({toString:function(){return this.$==1?"Create":this.$==3?"Ignore":this.$==2?"UseCreated":"Upload";}},null,d);d.Ignore=new d({$:3});d.UseCreated=new d({$:2});d.Create=new d({$:1});d.Upload=new d({$:0});f.German={$:1};f.English={$:0};g.StrUserValuesMobilePhone={$:30};g.StrUserValuesPhone={$:29};g.StrUserValuesCity={$:28};g.StrUserValuesPostcode={$:27};g.StrUserValuesStreet={$:26};g.StrUserValuesLastName={$:25};g.StrUserValuesFirstName={$:24};g.StrUserValuesDegree={$:23};g.StrUserValuesGender={$:22};g.StrSubmitEditUserValues={$:21};g.StrEditUserValues={$:20};g.StrAddFile={$:19};g.StrUserAppliesAs={$:18};g.StrEmailBody={$:17};g.StrEmailSubject={$:16};g.StrTemplateName={$:15};g.StrUploadTemplate={$:14};g.StrBossMobilePhone={$:13};g.StrBossPhone={$:12};g.StrBossEmail={$:11};g.StrBossLastName={$:10};g.StrBossFirstName={$:9};g.StrBossDegree={$:8};g.StrBossGender={$:7};g.StrCompanyCity={$:6};g.StrCompanyPostcode={$:5};g.StrCompanyStreet={$:4};g.StrCompanyName={$:3};g.StrAddEmployer={$:2};g.StrFemale={$:1};g.StrMale={$:0};h.JustAddEmployer={$:2};h.SendJobApplicationToUserOnly={$:1};h.ApplyImmediately={$:0};e.createTemplate=function(){var E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7;function _8(be,bf){var bg,bh,bi;bg=a.jQuery(be);bh=m.Replace(a.String(bg.val())," ","&nbsp;");bh===""?bg.width(bf):(bi=a.jQuery("<span />").attr("style",((((k.Curried(function(bj,bk,bl,bm){return bj("font-family:"+n.toSafe(bk)+"; font-size: "+n.toSafe(bl)+"; font-weight: "+n.toSafe(bm)+"; visibility: hidden");},4))(a.id))(be.style.fontFamily))(be.style.fontSize))(be.style.fontWeight)).html(bh),bi.appendTo("body"),bg.width(bi.width()),a.jQuery("body span").last().remove());return null;}function _9(be,bf,bg,bh){var bi,bj,bk;bi=m.Replace(a.String(be)," ","&nbsp;");bj=a.jQuery("<span />").attr("style",((((k.Curried(function(bl,bm,bn,bo){return bl("font-family: "+n.toSafe(bm)+"; font-size: "+n.toSafe(bn)+"; font-weight: "+n.toSafe(bo)+"; letter-spacing:0pt; visibility: hidden;");},4))(a.id))(bf))(bg))(bh)).html(bi);bj.appendTo("body");bk=bj.width();a.jQuery("body span:last").remove();return bk;}function _(be,bf,bg,bh,bi){var bj,bk,bl,bm,bn,bo;bj=0;bk=be.length;bl=30;while(true)if(bl<0)return be.length;else{bm=bj+((bk-bj+1)/2>>0);bn=m.Substring(be,0,bm);bo=_9(bn,bg,bh,bi);if(bo>bf){if(bk===bm)return bm-1;else{bk=bm;bl=bl-1;}}else{bj=bm;bl=bl-1;}}}function $(be,bf,bg,bh,bi){return o.unfold(function(bj){var bk,bl,bm,bn,bo,bp,bq,br;return bj.$==1?(bk=bj.$0,(bl=_(bk,bf,bg,bh,bi),(bm=(bn=p.tryFindIndexBack(function(bs){return o.contains(bs,o.ofArray([" ",".",",",";","-"]));},p.take(bl,m.ToCharArray(bk))),(bo=bl===bk.length,bn!=null&&bn.$==1?bo?bl:bn.$0+1:bl)),(bp=m.Substring(bk,0,bm),(bq=bk.substring(bm),(br=bj.$1,bq===""?br.$==1?{$:1,$0:[bp,new o.T({$:1,$0:br.$0,$1:br.$1})]}:{$:1,$0:[bp,o.T.Empty]}:br.$==1?{$:1,$0:[bp,new o.T({$:1,$0:bq,$1:new o.T({$:1,$0:br.$0,$1:br.$1})})]}:{$:1,$0:[bp,o.ofArray([bq])]})))))):null;},o.ofArray(p.map(function(bj){return m.EndsWith(bj," ")?m.TrimEnd(bj,[" "])+"\n":bj;},m.SplitChars(be,["\n"],0))));}function ba(be){var bf;bf=null;return q.Delay(function(){var bg;bg={name:be,pages:o.ofArray([{name:"Anschreiben",jobApplicationPageTemplateId:1,map:s.OfArray(p.ofSeq(o.ofArray([["mainText",m.concat("\n",$(Y.c,a.jQuery("#mainText").width(),"Arial","12pt","normal"))]])))}])};return q.Bind((new u.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.saveHtmlJobApplication:-1556746703",[bg]),function(bh){return q.Return(bh);});});}function bb(){var be;be=null;return q.Delay(function(){var bf;bf={gender:E.c,degree:F.c,firstName:G.c,lastName:H.c,street:I.c,postcode:J.c,city:K.c,phone:L.c,mobilePhone:M.c};return q.Bind((new u.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.addUserValues:1230958299",[bf]),function(){return q.Return(null);});});}function bc(){var be;be=null;return q.Delay(function(){var bf;bf={company:N.c,street:O.c,postcode:P.c,city:Q.c,gender:R.c,degree:S.c,firstName:T.c,lastName:U.c,email:V.c,phone:W.c,mobilePhone:X.c};return q.Bind((new u.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.addEmployer:-762170454",[bf]),function(bg){return q.Return(bg.$==1?null:{$:1,$0:bg.$0});});});}function bd(){var be;q.Start((be=null,q.Delay(function(){return q.Bind(bc(),function(bf){return q.Bind(bb(),function(){return q.Bind(ba(_2.c),function(){var bg,bh,bi;return bf==null?q.Zero():(bg={name:_0.c.name,pages:o.ofArray([{name:"Anschreiben",jobApplicationPageTemplateId:1,map:s.OfArray(p.ofSeq(o.ofArray([["mainText",Y.c]])))}])},(bh={gender:E.c,degree:F.c,firstName:G.c,lastName:H.c,street:I.c,postcode:J.c,city:K.c,phone:L.c,mobilePhone:M.c},(bi={company:N.c,street:O.c,postcode:P.c,city:Q.c,gender:R.c,degree:S.c,firstName:T.c,lastName:U.c,email:V.c,phone:W.c,mobilePhone:X.c},((new u.New()).Send("JobApplicationSpam:JobApplicationSpam.Server.applyNowWithHtmlTemplate:-77811991",[bi,bf.$0,bg,bh]),q.Zero()))));});});});})),null);}E=x.Create$1({$:1});F=x.Create$1("");G=x.Create$1("");H=x.Create$1("");I=x.Create$1("");J=x.Create$1("");K=x.Create$1("");L=x.Create$1("");M=x.Create$1("");N=x.Create$1("");O=x.Create$1("");P=x.Create$1("");Q=x.Create$1("");R=x.Create$1({$:0});S=x.Create$1("");T=x.Create$1("");U=x.Create$1("");V=x.Create$1("");W=x.Create$1("");X=x.Create$1("");x.Create$1("Bewerbung als ...");Y=x.Create$1("");Z=x.Create$1(d.Upload);_0=x.Create$1({name:"",pages:o.T.Empty});_1=x.Create$1(o.ofArray([""]));_2=x.Create$1("");_3=x.Create$1(o.ofArray([""]));_4=x.Create$1("");x.Create$1("");x.Create$1(0);_5=x.Create$1(y.Verbatim("<div>nothing here yet</div>"));_6=x.Create$1(new z.New([]));q.Start((_7=null,q.Delay(function(){return q.Bind((new u.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getHtmlJobApplicationNames:1994133801",[]),function(be){return q.Combine(!(be.$==0)?(x.Set(_2,be.get_Item(0)),x.Set(_1,be),q.Zero()):q.Zero(),q.Delay(function(){return q.Bind((new u.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.getHtmlJobApplicationPageTemplates:-611341156",[]),function(bf){var bg;return!(bf.$==0)?(x.Set(_4,o.head(bf).name),x.Set(_3,o.map(function(bh){return bh.name;},bf)),x.Set(_6,s.OfArray(p.ofSeq(o.map(function(bh){return[bh.name,bh.html];},bf)))),x.Set(_5,y.Verbatim(_6.c.get_Item(_4.c))),bg=a.document.getElementById("selectHtmlJobApplicationPageTemplate"),q.Combine(q.While(function(){return A.Equals(bg,void 0)||bg.length!==bf.get_Length();},q.Delay(function(){return q.Bind(q.Sleep(50),function(){return q.Return(null);});})),q.Delay(function(){a.document.getElementById("selectHtmlJobApplicationPageTemplate").selectedIndex=0;a.jQuery(".resizing").each(function(bh,bi){bi.addEventListener("input",function(){return _8(bi,150);},true);});a.jQuery(".field-updating").each(function(bh,bi){bi.addEventListener("input",function(){a.jQuery((function(bj){return function(bk){return bj("[data-update-field='"+n.toSafe(bk)+"']");};}(a.id))(a.String(a.jQuery(bi).data("update-field")))).each(function(bj,bk){!A.Equals(bk,bi)?(a.jQuery(bk).val(a.String(a.jQuery(bi).val())),_8(bk,150)):void 0;});return null;},true);});a.jQuery("[data-variable-value]").each(function(bh,bi){var bj,bk,bl,bm;bj=a.jQuery(bi);a.String(bj.data("variable-value"))==="today"?bj.val(((((k.Curried(function(bn,bo,bp,bq){return bn(a.String(bo)+"."+a.String(bp)+"."+a.String(bq));},4))(a.id))((bk=B.now(),(new B(bk)).getDate())))((bl=B.now(),(new B(bl)).getMonth()+1)))((bm=B.now(),(new B(bm)).getFullYear()))):void 0;});return q.Zero();}))):q.Zero();});}));});})),null);return y.Element("div",[],[y.Element("h1",[],[y.TextNode("Create a template")]),y.SelectDyn([C.Create("style","min-width: 300px"),C.Create("id","selectHtmlJobApplicationName"),D.Handler("change",function(){return function(){return null;};})],a.id,_1.v,_2),y.Element("br",[],[]),y.TextNode("Pages: "),y.Element("br",[],[]),y.Element("ul",[],[y.Element("li",[],[y.Element("button",[],[y.TextNode("+")])]),y.Element("li",[],[y.TextNode("Anschreiben")]),y.Element("li",[],[y.Element("button",[],[y.TextNode("+")])])]),y.Element("br",[],[]),y.Element("hr",[],[]),y.Element("br",[],[]),y.Element("div",[],[y.Radio([C.Create("id","upload"),D.Handler("click",function(){return function(){return a.alert(a.String(Z.c));};}),C.Create("radiogroup","cover")],d.Upload,Z),y.Element("label",[C.Create("for","upload")],[y.TextNode("Hochladen")]),y.Element("br",[],[]),y.Radio([C.Create("id","create"),D.Handler("click",function(){return function(){return a.alert(a.String(Z.c));};}),C.Create("radiogroup","cover")],d.Create,Z),y.Element("label",[C.Create("for","create")],[y.TextNode("Online erstellen")]),y.Element("br",[],[]),y.Radio([C.Create("id","useCreated"),D.Handler("click",function(){return function(){return a.alert(a.String(Z.c));};}),C.Create("radiogroup","cover")],d.UseCreated,Z),y.Element("label",[C.Create("for","useCreated")],[y.TextNode("Online erstellte Seite verwenden")]),y.Element("br",[],[]),y.Radio([C.Create("id","ignoreCover"),D.Handler("click",function(){return function(){return a.alert(a.String(Z.c));};}),C.Create("radiogroup","cover")],d.Ignore,Z),y.Element("label",[C.Create("for","ignoreCover")],[y.TextNode("Nicht verwenden")]),y.Element("br",[],[])]),y.SelectDyn([C.Create("style","min-width: 300px"),C.Create("id","selectHtmlJobApplicationPageTemplate"),D.Handler("change",function(){return function(){return _6.c.ContainsKey(_4.c)?x.Set(_5,y.Verbatim(_6.c.get_Item(_4.c))):null;};})],a.id,_3.v,_4),y.Element("br",[],[]),y.EmbedView(_5.v),y.Element("br",[],[]),y.Element("input",[C.Create("type","button"),C.Create("value","Abschicken"),D.Handler("click",function(){return function(){return bd();};})],[])]);};e.a=function(){a.alert("halsdf");};e.showSentJobApplications=function(){return y.Element("h1",[],[y.TextNode("hallo")]);};e.register=function(){var E,F,G;E=x.Create$1("");F=x.Create$1("");G=x.Create$1("");return y.Element("form",[D.Handler("submit",function(){return function(){var H;return q.Start((H=null,q.Delay(function(){(new u.New()).Async("JobApplicationSpam:JobApplicationSpam.Server.register:-788765221",[E.c,F.c,G.c]);return q.Return(null);})),null);};})],[y.Element("div",[C.Create("class","form-group")],[y.Element("label",[C.Create("for","txtRegisterEmail")],[y.TextNode("Email")]),y.Input([C.Create("class","form-control"),C.Create("id","txtRegisterEmail"),C.Create("placeholder","Email")],E),y.Element("label",[C.Create("for","txtRegisterPassword1")],[y.TextNode("Password")]),y.PasswordBox([C.Create("class","form-control"),C.Create("id","txtRegisterPassword1"),C.Create("placeholder","Password")],F),y.Element("label",[C.Create("for","txtRegisterPassword2")],[y.TextNode("Password")]),y.PasswordBox([C.Create("class","form-control"),C.Create("id","txtRegisterPassword2"),C.Create("placeholder","Repeat Password")],G),y.Element("input",[C.Create("type","submit"),C.Create("value","Register")],[])])]);};e.login=function(){var E,F;E=x.Create$1("");F=x.Create$1("");return y.Element("form",[D.Handler("submit",function(){return function(){var G;G=(new u.New()).Sync("JobApplicationSpam:JobApplicationSpam.Server.login:1280212622",[E.c,F.c]);return G.$==1?a.alert(m.concat(", ",G.$0)):null;};})],[y.Element("div",[C.Create("class","form-group")],[y.Element("label",[C.Create("for","txtLoginEmail")],[y.TextNode("Email")]),y.Input([C.Create("class","form-control"),C.Create("id","txtLoginEmail"),C.Create("placeholder","Email")],E)]),y.Element("div",[C.Create("class","form-group")],[y.Element("label",[C.Create("for","txtLoginPassword")],[y.TextNode("Password")]),y.PasswordBox([C.Create("class","form-control"),C.Create("id","txtLoginPassword"),C.Create("placeholder","Password")],F)]),y.Element("input",[C.Create("type","submit"),C.Create("value","Login")],[])]);};e.uploadTemplate=function(){return y.Element("div",[],[]);};e.applyNow=function(){return y.Element("div",[],[]);};e.addEmployer=function(){return y.Element("div",[],[]);};e.editUserValues=function(){return y.Element("div",[],[]);};e.currentLanguage=function(){i.$cctor();return i.currentLanguage;};e.translate=function(E,F){return E.$==1?F.$==1?"weiblich":F.$==2?"Arbeitgeber eingeben":F.$==3?"Firmenname":F.$==4?"Straße":F.$==5?"Postleitzahl":F.$==6?"Stadt":F.$==7?"Geschlecht":F.$==8?"Titel":F.$==9?"Vorname":F.$==10?"Nachname":F.$==11?"Email":F.$==12?"Telefon":F.$==13?"Mobiltelefon":F.$==14?"Vorlage hochladen":F.$==16?"Email-Betreff":F.$==17?"Email-Text":F.$==15?"Name der Vorlage":F.$==18?"Beruf":F.$==19?"Datei hinzufügen":F.$==20?"Angaben zum Bewerber":F.$==21?"Speichern":F.$==22?"Geschlecht":F.$==23?"Titel":F.$==24?"Vorname":F.$==25?"Nachname":F.$==26?"Straße":F.$==27?"PLZ":F.$==28?"Stadt":F.$==29?"Telefon":F.$==30?"Mobiltelefon":"männlich":F.$==1?"female":F.$==2?"Add Employer":F.$==3?"Company name":F.$==9?"First name":F.$==10?"Last name":F.$==4?"Street":F.$==5?"Postcode":F.$==6?"City":F.$==7?"Gender":F.$==8?"Degree":F.$==11?"Email":F.$==12?"Phone":F.$==13?"Mobile phone":F.$==14?"Add template":F.$==16?"Email subject":F.$==17?"Email body":F.$==15?"Template name":F.$==18?"Job":F.$==19?"Add file":F.$==20?"Edit your values":F.$==21?"Save values":F.$==22?"Gender":F.$==23?"Degree":F.$==24?"First name":F.$==25?"Last name":F.$==26?"Street":F.$==27?"Postcode":F.$==28?"City":F.$==29?"Phone":F.$==30?"Mobile phone":"male";};i.$cctor=function(){i.$cctor=a.ignore;i.currentLanguage=f.German;};}());
