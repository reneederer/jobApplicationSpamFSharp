(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Sitelets=b.Sitelets||{};d=c.PathUtil=c.PathUtil||{};e=c.Route=c.Route||{};f=c.List=c.List||{};g=c.Router=c.Router||{};h=b&&b.Obj;i=c.RouterModule=c.RouterModule||{};j=i.ListArrayConverter=i.ListArrayConverter||{};k=c.RouterOperators=c.RouterOperators||{};l=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};m=b&&b.Strings;n=b&&b.Seq;o=b&&b.Collections;p=o&&o.Map;q=b&&b.List;r=b&&b.Arrays;s=a.IntelliFactory;t=s&&s.Runtime;u=o&&o.FSharpMap;v=b&&b.Utils;w=a.console;x=b&&b.Unchecked;y=b&&b.Nullable;z=b&&b.Numeric;A=b&&b.Lazy;B=b&&b.Concurrency;C=a.jQuery;D=b&&b.Operators;E=b&&b.Char;F=a.System;G=F&&F.Guid;H=b&&b.Slice;d.WriteLink=function(I,J){var K;K=J.get_IsEmpty()?"":"?"+d.WriteQuery(J);return"/"+d.Concat(I)+K;};d.WriteQuery=function(I){function J(K,L){return K+"="+L;}return m.concat("&",n.map(function(K){return J(K[0],K[1]);},p.ToSeq(I)));};d.Concat=function(I){var J,K;J=[];K=true;q.iter(function(L){if(!m.IsNullOrEmpty(L)){K?K=false:J.push("/");J.push(L);}},I);return m.Join("",r.ofSeq(J));};e=c.Route=t.Class({ToLink:function(){return d.WriteLink(this.Segments,this.QueryArgs);}},null,e);e.FromHash=function(I,J){var K,L;K=I.indexOf("#");return K===-1?e.get_Empty():(L=I.substring(K+1),J!=null&&J.$0?L===""||L==="/"?e.get_Empty():m.StartsWith(L,"/")?e.FromUrl(L.substring(1),{$:1,$0:true}):e.Segment$2(L):e.FromUrl(I.substring(K),{$:1,$0:false}));};e.FromUrl=function(I,J){var K,L,M;K=(L=I.indexOf("?"),L===-1?[I,new u.New([])]:[m.Substring(I,0,L),e.ParseQuery(I.substring(L+1))]);M=e.get_Empty();return e.New(q.ofArray(m.SplitChars(K[0],["/"],J!=null&&J.$0?0:1)),K[1],M.FormData,M.Method,M.Body);};e.WriteQuery=function(I){return d.WriteQuery(I);};e.ParseQuery=function(I){return p.OfArray(r.ofSeq(r.choose(function(J){var K,L;K=m.SplitChars(J,["="],0);return K&&r.length(K)===2?(L=r.get(K,1),{$:1,$0:[r.get(K,0),L]}):((function(M){return function(N){return M("wrong format for query argument: "+v.toSafe(N));};}(function(M){w.log(M);}))(J),null);},m.SplitChars(I,["&"],0))));};e.Combine=function(I){var J,K,L,M,N,O,P,Q,R,S;P=r.ofSeq(I);Q=r.length(P);if(Q===0)return e.get_Empty();else if(Q===1)return r.get(P,0);else{J=null;K=null;R=[];L=new u.New([]);M=new u.New([]);N=0;S=r.length(P);while(N<S)(function(){var T,U,V;T=r.get(P,N);U=T.Method;U!=null&&U.$==1?J=U:void 0;V=T.Body;V!=null&&V.$==1?K=V:void 0;L=p.FoldBack(function(W,X,Y){return Y.Add(W,X);},L,T.QueryArgs);M=p.FoldBack(function(W,X,Y){return Y.Add(W,X);},M,T.FormData);q.iter(function(W){R.push(W);},T.Segments);N=N+1;}());return e.New(q.ofSeq(R),L,M,J,K);}};e.Segment=function(I,J){var K;K=e.get_Empty();return e.New(I,K.QueryArgs,K.FormData,J,K.Body);};e.Segment$1=function(I){var J;J=e.get_Empty();return e.New(I,J.QueryArgs,J.FormData,J.Method,J.Body);};e.Segment$2=function(I){var J;J=e.get_Empty();return e.New(q.ofArray([I]),J.QueryArgs,J.FormData,J.Method,J.Body);};e.get_Empty=function(){return e.New(q.T.Empty,new u.New([]),new u.New([]),null,null);};e.New=function(I,J,K,L,M){return new e({Segments:I,QueryArgs:J,FormData:K,Method:L,Body:M});};f.startsWith=function(I,J){var K;switch(I.$==1?J.$==1?x.Equals(I.$0,J.$0)?(K=[J.$0,J.$1,I.$0,I.$1],1):2:2:0){case 0:return{$:1,$0:J};break;case 1:return f.startsWith(K[3],K[1]);break;case 2:return null;break;}};g.op_Addition=function(I,J){return g.New(function(K){return n.append(I.Parse(K),J.Parse(K));},I.Segment);};g.op_Division=function(I,J){return g.New(function(K){return n.collect(J.Parse,I.Parse(K));},n.append(I.Segment,J.Segment));};g.FromString=function(I){var J,K;J=m.SplitChars(I,["/"],1);return J.length==0?g.New(function(L){return[L];},[]):(K=q.ofArray(J),g.New(function(L){var M;M=f.startsWith(K,L.Segments);return M!=null&&M.$==1?[e.New(M.$0,L.QueryArgs,L.FormData,L.Method,L.Body)]:[];},[e.Segment$1(K)]));};g.New=function(I,J){return{Parse:I,Segment:J};};g.op_Addition$1=function(I,J){return g.New$1(function(K){return n.append(I.Parse(K),J.Parse(K));},function(K){var L;L=I.Write(K);return L==null?J.Write(K):L;});};g.op_Division$1=function(I,J){return g.New$1(function(K){function L(M,N){return n.map(function(O){return[O,N];},J.Parse(M));}return n.collect(function(M){return L(M[0],M[1]);},I.Parse(K));},function(K){var L;L=I.Write(K);return L==null?null:{$:1,$0:n.append(L.$0,J.Segment)};});};g.op_Division$2=function(I,J){return g.New$1(function(K){return n.collect(J.Parse,I.Parse(K));},function(K){var L;L=J.Write(K);return L==null?null:{$:1,$0:n.append(I.Segment,L.$0)};});};g.op_Division$3=function(I,J){return g.New$1(function(K){function L(M,N){function O(P,Q){return[P,[N,Q]];}return n.map(function(P){return O(P[0],P[1]);},J.Parse(M));}return n.collect(function(M){return L(M[0],M[1]);},I.Parse(K));},function(K){var L,M,N;L=I.Write(K[0]);M=J.Write(K[1]);return L!=null&&L.$==1&&(M!=null&&M.$==1&&(N=[L.$0,M.$0],true))?{$:1,$0:n.append(N[0],N[1])}:null;});};g.New$1=function(I,J){return{Parse:I,Write:J};};j=i.ListArrayConverter=t.Class({WebSharper_Sitelets_RouterModule_IListArrayConverter$ToArray:function(I){return r.ofList(I);},WebSharper_Sitelets_RouterModule_IListArrayConverter$OfArray:function(I){return q.ofArray(I);}},h,j);j.New=t.Ctor(function(){},j);i.Cast=function(I,J,K){return g.New$1(function(L){function M(N,O){var P;P=I(O);return P!=null&&P.$==1?{$:1,$0:[N,P.$0]}:null;}return n.choose(function(N){return M(N[0],N[1]);},K.Parse(L));},function(L){var M;M=J(L);return M==null?null:K.Write(M.$0);});};i.Unbox=function(I,J){return g.New$1(function(K){function L(M,N){var O;O=I(N);return O!=null&&O.$==1?{$:1,$0:[M,O.$0]}:null;}return n.choose(function(M){return L(M[0],M[1]);},J.Parse(K));},J.Write);};i.Box=function(I,J){return g.New$1(function(K){function L(M,N){return[M,N];}return n.map(function(M){return L(M[0],M[1]);},J.Parse(K));},function(K){var L;L=I(K);return L==null?null:J.Write(L.$0);});};i.List=function(I){return i.Map(q.ofArray,r.ofList,i.Array(I));};i.Option=function(I){return g.New$1(function(J){var K,L;L=J.Segments;function M(N,O){return[N,{$:1,$0:O}];}switch(L.$==1?L.$0==="None"?(K=L.$1,0):L.$0==="Some"?(K=L.$1,1):2:2){case 0:return[[e.New(K,J.QueryArgs,J.FormData,J.Method,J.Body),null]];break;case 1:return n.map(function(N){return M(N[0],N[1]);},I.Parse(e.New(K,J.QueryArgs,J.FormData,J.Method,J.Body)));break;case 2:return[];break;}},function(J){var K,L,M;return J!=null&&J.$==1?(K=I.Write(J.$0),(L=(M=[e.Segment$2("Some")],function(N){return n.append(M,N);}),K==null?null:{$:1,$0:L(K.$0)})):{$:1,$0:[e.Segment$2("None")]};});};i.Nullable=function(I){return g.New$1(function(J){var K,L;function M(N,O){return[N,O];}K=J.Segments;return K.$==1&&(K.$0==="null"&&(L=K.$1,true))?[[e.New(L,J.QueryArgs,J.FormData,J.Method,J.Body),null]]:n.map(function(N){return M(N[0],N[1]);},I.Parse(J));},function(J){return J!=null?I.Write(y.get(J)):{$:1,$0:[e.Segment$2("null")]};});};i.Array=function(I){return g.New$1(function(J){var K,L,M;function N(O,P,Q){function R(S,T){return N(O-1,S,new q.T({$:1,$0:T,$1:Q}));}return O===0?[[P,r.ofList(q.rev(Q))]]:n.collect(function(S){return R(S[0],S[1]);},I.Parse(P));}K=J.Segments;return K.$==1?(L=(M=0,[z.TryParseInt32(K.$0,{get:function(){return M;},set:function(O){M=O;}}),M]),L[0]?N(L[1],e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),q.T.Empty):[]):[];},function(J){var K;K=r.map(I.Write,J);return r.forall(function(L){return L!=null;},K)?{$:1,$0:n.append([e.Segment$2(a.String(r.length(J)))],n.collect(function(L){return L.$0;},K))}:null;});};i.Delay=function(I){var J;J=A.Create(I);return g.New$1(function(K){return J.f().Parse(K);},function(K){return J.f().Write(K);});};i.Single=function(I,J){var K,L;K=m.SplitChars(J,["/"],1);return K.length==0?g.New$1(function(M){return[[M,I]];},function(M){return x.Equals(M,I)?{$:1,$0:[]}:null;}):(L=q.ofArray(K),g.New$1(function(M){var N;N=f.startsWith(L,M.Segments);return N!=null&&N.$==1?[[e.New(N.$0,M.QueryArgs,M.FormData,M.Method,M.Body),I]]:[];},function(M){return x.Equals(M,I)?{$:1,$0:[e.Segment$1(L)]}:null;}));};i.Table=function(I){function J(K,L){return i.MapTo(K,g.FromString(L));}return i.Sum(n.map(function(K){return J(K[0],K[1]);},I));};i.Sum=function(I){var J;J=r.ofSeq(I);return g.New$1(function(K){return n.collect(function(L){return L.Parse(K);},J);},function(K){return n.tryPick(function(L){return L.Write(K);},J);});};i.MapTo=function(I,J){return g.New$1(function(K){return n.map(function(L){return[L,I];},J.Parse(K));},function(K){return x.Equals(K,I)?{$:1,$0:J.Segment}:null;});};i.Filter=function(I,J){return g.New$1(function(K){function L(M){return M[1];}return n.filter(function(M){return I(L(M));},J.Parse(K));},function(K){return I(K)?J.Write(K):null;});};i.TryMap=function(I,J,K){return g.New$1(function(L){function M(N,O){var P;P=I(O);return P==null?null:{$:1,$0:[N,P.$0]};}return n.choose(function(N){return M(N[0],N[1]);},K.Parse(L));},function(L){var M;M=J(L);return M==null?null:K.Write(M.$0);});};i.Map=function(I,J,K){return g.New$1(function(L){function M(N,O){return[N,I(O)];}return n.map(function(N){return M(N[0],N[1]);},K.Parse(L));},function(L){return K.Write(J(L));});};i.Embed=function(I,J,K){return g.New$1(function(L){function M(N,O){return[N,I(O)];}return n.map(function(N){return M(N[0],N[1]);},K.Parse(L));},function(L){var M;M=J(L);return M==null?null:K.Write(M.$0);});};i.Slice=function(I,J,K){return g.New$1(function(L){function M(N,O){var P;P=I(O);return P==null?null:{$:1,$0:[N,P.$0]};}return n.choose(function(N){return M(N[0],N[1]);},K.Parse(L));},function(L){return K.Write(J(L));});};i.HashLink=function(I,J){return"#"+i.Link(I,J);};i.Ajax=function(I,J){var K,L,M,N,O,P,Q;K=i.Write(I,J);return K!=null&&K.$==1?(L=K.$0,(M=(N={},N.dataType="text",N),(O=L.Method,O!=null&&O.$==1?M.type=O.$0:void 0,P=L.Body,P!=null&&P.$==1?(M.contentType="application/json",M.data=P.$0,M.processData=false,L.Method==null?M.type="POST":void 0):(!L.FormData.get_IsEmpty()?(Q=new a.FormData(),p.Iterate(function(R,S){return Q.append(R,S);},L.FormData),M.contentType=false,M.data=Q,M.processData=false):void 0,L.Method==null?M.type="POST":void 0),B.FromContinuations(function(R,S){M.success=function(T){return R(T);};M.error=function(T,U,V){return S(a.Error(V));};C.ajax(L.ToLink(),M);})))):D.FailWith("Failed to map endpoint to request");};i.Link=function(I,J){var K;K=i.Write(I,J);return K==null?"":K.$0.ToLink();};i.TryLink=function(I,J){var K;K=i.Write(I,J);return K==null?null:{$:1,$0:K.$0.ToLink()};};i.Write=function(I,J){var K;K=I.Write(J);return K==null?null:{$:1,$0:e.Combine(K.$0)};};i.Parse=function(I,J){function K(L,M){return L.Segments.$==0?{$:1,$0:M}:null;}return n.tryPick(function(L){return K(L[0],L[1]);},I.Parse(J));};i.FormData=function(I){return g.New$1(function(J){function K(L,M){return[J,M];}return n.map(function(L){return K(L[0],L[1]);},I.Parse(e.New(J.Segments,J.FormData,J.FormData,J.Method,J.Body)));},function(J){var K;K=I.Write(J);return K==null?null:{$:1,$0:n.map(function(L){return e.New(L.Segments,new u.New([]),L.QueryArgs,L.Method,L.Body);},K.$0)};});};i.Body=function(I,J){return g.New$1(function(K){var L,M;L=(M=K.Body,M==null?null:I(M.$0));return L!=null&&L.$==1?[[e.New(K.Segments,K.QueryArgs,K.FormData,K.Method,null),L.$0]]:[];},function(K){var L;return{$:1,$0:[(L=e.get_Empty(),e.New(L.Segments,L.QueryArgs,L.FormData,L.Method,{$:1,$0:J(K)}))]};});};i.Method=function(I){var J;return g.New(function(K){var L,M;L=K.Method;return L!=null&&L.$==1&&(L.$0===I&&(M=L.$0,true))?[K]:[];},[(J=e.get_Empty(),e.New(J.Segments,J.QueryArgs,J.FormData,{$:1,$0:I},J.Body))]);};i.QueryNullable=function(I,J){return g.New$1(function(K){var L,M,N;function O(P,Q){return[e.New(K.Segments,M,K.FormData,K.Method,K.Body),Q];}L=K.QueryArgs.TryFind(I);return L!=null&&L.$==1?(M=K.QueryArgs.Remove(I),n.map(function(P){return O(P[0],P[1]);},J.Parse((N=e.get_Empty(),e.New(q.ofArray([L.$0]),N.QueryArgs,N.FormData,N.Method,N.Body))))):[[K,null]];},function(K){var L,M,N,O;return K!=null?(L=J.Write(y.get(K)),L==null?null:{$:1,$0:(M=e.Combine(L.$0).Segments,M.$==1&&(M.$1.$==0&&(N=M.$0,true))?[(O=e.get_Empty(),e.New(O.Segments,p.OfArray(r.ofSeq(q.ofArray([[I,N]]))),O.FormData,O.Method,O.Body))]:[])}):{$:1,$0:[]};});};i.QueryOption=function(I,J){return g.New$1(function(K){var L,M,N;function O(P,Q){return[e.New(K.Segments,M,K.FormData,K.Method,K.Body),{$:1,$0:Q}];}L=K.QueryArgs.TryFind(I);return L!=null&&L.$==1?(M=K.QueryArgs.Remove(I),n.map(function(P){return O(P[0],P[1]);},J.Parse((N=e.get_Empty(),e.New(q.ofArray([L.$0]),N.QueryArgs,N.FormData,N.Method,N.Body))))):[[K,null]];},function(K){var L,M,N,O;return K!=null&&K.$==1?(L=J.Write(K.$0),L==null?null:{$:1,$0:(M=e.Combine(L.$0).Segments,M.$==1&&(M.$1.$==0&&(N=M.$0,true))?[(O=e.get_Empty(),e.New(O.Segments,p.OfArray(r.ofSeq(q.ofArray([[I,N]]))),O.FormData,O.Method,O.Body))]:[])}):{$:1,$0:[]};});};i.Query=function(I,J){return g.New$1(function(K){var L,M,N;function O(P,Q){return[e.New(K.Segments,M,K.FormData,K.Method,K.Body),Q];}L=K.QueryArgs.TryFind(I);return L!=null&&L.$==1?(M=K.QueryArgs.Remove(I),n.map(function(P){return O(P[0],P[1]);},J.Parse((N=e.get_Empty(),e.New(q.ofArray([L.$0]),N.QueryArgs,N.FormData,N.Method,N.Body))))):[];},function(K){var L,M,N,O;L=J.Write(K);return L==null?null:{$:1,$0:(M=e.Combine(L.$0).Segments,M.$==1&&(M.$1.$==0&&(N=M.$0,true))?[(O=e.get_Empty(),e.New(O.Segments,p.OfArray(r.ofSeq(q.ofArray([[I,N]]))),O.FormData,O.Method,O.Body))]:[])};});};i.CreateWithQuery=function(I,J){return g.New$1(function(K){return[[e.New(q.T.Empty,K.QueryArgs,K.FormData,K.Method,K.Body),J(K.Segments,K.QueryArgs)]];},function(K){var L,M;L=I(K);return{$:1,$0:[(M=e.get_Empty(),e.New(L[0],L[1],M.FormData,M.Method,M.Body))]};});};i.Create=function(I,J){return g.New$1(function(K){return[[e.New(q.T.Empty,K.QueryArgs,K.FormData,K.Method,K.Body),J(K.Segments)]];},function(K){return{$:1,$0:[e.Segment$1(I(K))]};});};i.New=function(I,J){return{WebSharper_Sitelets_IRouter_1$Route:I,WebSharper_Sitelets_IRouter_1$Link:J};};i.Empty=function(){l.$cctor();return l.Empty;};k.JSClass=function(I,J,K){var L;L=r.ofSeq(n.choose(function(M){return M.$==1?{$:1,$0:[M.$0[0],M.$0[1]]}:null;},J));return k.Class(function(M){function N(O,P){var Q;return P?(Q=M[O],x.Equals(Q,void 0)?null:{$:1,$0:Q}):M[O];}return r.map(function(O){return N(O[0],O[1]);},L);},function(M){var N;function O(P,Q){return function(R){if(Q){if(R!=null&&R.$==1)N[P]=R.$0;}else N[P]=R;};}N=I();(((t.Curried3(r.iter2))(function(P,Q){return(function(R){return O(R[0],R[1]);}(P))(Q);}))(L))(M);return N;},r.map(function(M){return M.$==1?{$:1,$0:M.$0[2]}:{$:0,$0:M.$0};},J),K);};k.Class=function(I,J,K,L){var M,N;M=q.ofArray(K);N=g.New$1(function(O){function P(Q,R,S){var T,U,V;function W(X,Y){return P(T,X,new q.T({$:1,$0:Y,$1:S}));}return Q.$==1?Q.$0.$==1?(T=Q.$1,n.collect(function(X){return W(X[0],X[1]);},Q.$0.$0.Parse(R))):(U=R.Segments,U.$==1&&(U.$0===Q.$0.$0&&(V=[U.$0,U.$1],true))?P(Q.$1,e.New(V[1],R.QueryArgs,R.FormData,R.Method,R.Body),S):[]):[[R,J(r.ofList(q.rev(S)))]];}return P(M,O,q.T.Empty);},function(O){var P,Q,R;P=I(O);Q=-1;R=r.map(function(S){return S.$==1?(Q=Q+1,S.$0.Write(r.get(P,Q))):{$:1,$0:[e.Segment$2(S.$0)]};},K);return r.forall(function(S){return S!=null;},R)?{$:1,$0:n.collect(function(S){return S.$0;},R)}:null;});return L.length==0?N:i.Sum(n.append(L,[N]));};k.JSUnion=function(I,J){function K(L,M,N,O){return[M,N,O];}return k.Union(function(L){var M;function N(O){return O!=null&&O.$==1&&x.Equals(L,O.$0);}M=n.tryFindIndex(function(O){return N(O[0]);},J);return M!=null&&M.$==1?M.$0:L.$;},function(L,M){return r.init(r.length((r.get(J,L))[3]),function(N){return M["$"+a.String(N)];});},function(L,M){var N,O,P;N=I==null?{}:new I();O=r.get(J,L);return(P=O[0],P!=null&&P.$==1)?O[0].$0:(N.$=L,n.iteri(function(Q,R){N["$"+a.String(Q)]=R;},M),N);},r.map(function(L){return K(L[0],L[1],L[2],L[3]);},J));};k.Union=function(I,J,K,L){return g.New$1(function(M){function N(O,P){var Q,R,S,T,U;function V(W,X,Y){var Z;function _0(_1,_2){return V(Z,_1,new q.T({$:1,$0:_2,$1:Y}));}return W.$==1?(Z=W.$1,n.collect(function(_1){return _0(_1[0],_1[1]);},W.$0.Parse(X))):[[X,K(O,r.ofList(q.rev(Y)))]];}return(Q=M.Method,(R=P[0],Q!=null&&Q.$==1?R!=null&&R.$==1?Q.$0===R.$0:true:R!=null&&R.$==1?false:true))?(S=f.startsWith(q.ofArray(P[1]),M.Segments),S==null?[]:(T=S.$0,(U=q.ofArray(P[2]),U.$==0?[[e.New(T,M.QueryArgs,M.FormData,M.Method,M.Body),K(O,[])]]:V(U,e.New(T,M.QueryArgs,M.FormData,M.Method,M.Body),q.T.Empty)))):[];}return n.collect(function(O){return N(O[0],O[1]);},n.indexed(L));},function(M){var N,O,P,Q,R;function S(T,U){return U.Write(T);}N=I(M);O=r.get(L,N);P=O[2];Q=[e.Segment(q.ofArray(O[1]),O[0])];return P&&r.length(P)===0?{$:1,$0:Q}:(R=(((t.Curried3(r.map2))(S))(J(N,M)))(P),r.forall(function(T){return T!=null;},R)?{$:1,$0:n.append(Q,n.collect(function(T){return T.$0;},R))}:null);});};k.JSRecord=function(I,J){function K(L,M,N){return N;}return k.Record(function(L){function M(N,O,P){var Q;return O?(Q=L[N],x.Equals(Q,void 0)?null:{$:1,$0:Q}):L[N];}return r.map(function(N){return M(N[0],N[1],N[2]);},J);},function(L){var M;function N(O,P,Q){return function(R){if(P){if(R!=null&&R.$==1)M[O]=R.$0;}else M[O]=R;};}M=I==null?{}:new I();(((t.Curried3(r.iter2))(function(O,P){return(function(Q){return N(Q[0],Q[1],Q[2]);}(O))(P);}))(J))(L);return M;},r.map(function(L){return K(L[0],L[1],L[2]);},J));};k.Record=function(I,J,K){var L;L=q.ofArray(K);return g.New$1(function(M){function N(O,P,Q){var R;function S(T,U){return N(R,T,new q.T({$:1,$0:U,$1:Q}));}return O.$==1?(R=O.$1,n.collect(function(T){return S(T[0],T[1]);},O.$0.Parse(P))):[[P,J(r.ofList(q.rev(Q)))]];}return N(L,M,q.T.Empty);},function(M){var N;function O(P,Q){return Q.Write(P);}N=(((t.Curried3(r.map2))(O))(I(M)))(K);return r.forall(function(P){return P!=null;},N)?{$:1,$0:n.collect(function(P){return P.$0;},N)}:null;});};k.JSTuple=function(I){return k.Tuple(function(J){return r.init(r.length(I),function(K){return J[K];});},a.id,I);};k.Tuple=function(I,J,K){return g.New$1(function(L){function M(N,O,P){var Q;function R(S,T){return M(Q,S,new q.T({$:1,$0:T,$1:P}));}return N.$==1?(Q=N.$1,n.collect(function(S){return R(S[0],S[1]);},N.$0.Parse(O))):[[O,J(r.ofList(q.rev(P)))]];}return M(q.ofArray(K),L,q.T.Empty);},function(L){var M;function N(O,P){return P.Write(O);}M=(((t.Curried3(r.map2))(N))(I(L)))(K);return r.forall(function(O){return O!=null;},M)?{$:1,$0:n.collect(function(O){return O.$0;},M)}:null;});};k.rDateTime=function(){l.$cctor();return l.rDateTime;};k.rWildcardList=function(I){return g.New$1(function(J){var K;function L(M,N){function O(P,Q){return L(P,new q.T({$:1,$0:Q,$1:N}));}return M.Segments.$==0?[[M,q.rev(N)]]:n.collect(function(P){return O(P[0],P[1]);},I.Parse(M));}K=J.Segments;return K.$==1?L(e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),q.T.Empty):[[J,q.T.Empty]];},function(J){var K;K=q.map(I.Write,J);return q.forAll(function(L){return L!=null;},K)?{$:1,$0:n.collect(function(L){return L.$0;},K)}:null;});};k.rWildcardArray=function(I){return g.New$1(function(J){var K;function L(M,N){function O(P,Q){return L(P,new q.T({$:1,$0:Q,$1:N}));}return M.Segments.$==0?[[M,r.ofList(q.rev(N))]]:n.collect(function(P){return O(P[0],P[1]);},I.Parse(M));}K=J.Segments;return K.$==1?L(e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),q.T.Empty):[[J,[]]];},function(J){var K;K=r.map(I.Write,J);return r.forall(function(L){return L!=null;},K)?{$:1,$0:n.collect(function(L){return L.$0;},K)}:null;});};k.rWildcard=function(){l.$cctor();return l.rWildcard;};k.rBool=function(){l.$cctor();return l.rBool;};k.rSingle=function(){l.$cctor();return l.rSingle;};k.rUInt64=function(){l.$cctor();return l.rUInt64;};k.rInt64=function(){l.$cctor();return l.rInt64;};k.rUInt=function(){l.$cctor();return l.rUInt;};k.rUInt16=function(){l.$cctor();return l.rUInt16;};k.rInt16=function(){l.$cctor();return l.rInt16;};k.rByte=function(){l.$cctor();return l.rByte;};k.rSByte=function(){l.$cctor();return l.rSByte;};k.rDouble=function(){l.$cctor();return l.rDouble;};k.rInt=function(){l.$cctor();return l.rInt;};k.rGuid=function(){l.$cctor();return l.rGuid;};k.rChar=function(){l.$cctor();return l.rChar;};k.rString=function(){l.$cctor();return l.rString;};k.rRoot=function(){l.$cctor();return l.rRoot;};l.$cctor=function(){l.$cctor=a.ignore;function I(J){var K,L;K=(L=0,[z.TryParseInt32(J,{get:function(){return L;},set:function(M){L=M;}}),L]);return K[0]?{$:1,$0:K[1]}:null;}l.Empty=g.New$1(function(){return[];},function(){return null;});l.rRoot=g.New(function(J){return[J];},[]);l.rString=g.New$1(function(J){var K;K=J.Segments;return K.$==1?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),a.decodeURIComponent(K.$0)]]:[];},function(J){return{$:1,$0:[e.Segment$2(J==null?"null":a.encodeURIComponent(J))]};});l.rChar=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1&&(K.$0.length===1&&(L=[K.$0,K.$1],true))?[[e.New(L[1],J.QueryArgs,J.FormData,J.Method,J.Body),E.Parse(a.decodeURIComponent(L[0]))]]:[];},function(J){return{$:1,$0:[e.Segment$2(a.encodeURIComponent(J))]};});l.rGuid=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1?(L=null,G.TryParse(K.$0,{get:function(){return L;},set:function(M){L=M;}})?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rInt=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1?(L=0,z.TryParseInt32(K.$0,{get:function(){return L;},set:function(M){L=M;}})?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rDouble=g.New$1(function(J){var K,L,M;K=J.Segments;return K.$==1?(L=0,(M=a.Number(K.$0),a.isNaN(M)?false:(L=M,true))?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rSByte=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1?(L=0,z.TryParseSByte(K.$0,{get:function(){return L;},set:function(M){L=M;}})?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rByte=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1?(L=0,z.TryParseByte(K.$0,{get:function(){return L;},set:function(M){L=M;}})?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rInt16=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1?(L=0,z.TryParseInt16(K.$0,{get:function(){return L;},set:function(M){L=M;}})?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rUInt16=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1?(L=0,z.TryParseUInt16(K.$0,{get:function(){return L;},set:function(M){L=M;}})?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rUInt=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1?(L=0,z.TryParseUInt32(K.$0,{get:function(){return L;},set:function(M){L=M;}})?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rInt64=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1?(L=0,z.TryParseInt64(K.$0,{get:function(){return L;},set:function(M){L=M;}})?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rUInt64=g.New$1(function(J){var K,L;K=J.Segments;return K.$==1?(L=0,z.TryParseUInt64(K.$0,{get:function(){return L;},set:function(M){L=M;}})?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rSingle=g.New$1(function(J){var K,L,M;K=J.Segments;return K.$==1?(L=0,(M=a.Number(K.$0),a.isNaN(M)?false:(L=M,true))?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(a.String(J))]};});l.rBool=g.New$1(function(J){var K,L,M;K=J.Segments;return K.$==1?(L=(M=null,[z.TryParseBool(K.$0,{get:function(){return M;},set:function(N){M=N;}}),M]),L[0]?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),L[1]]]:[]):[];},function(J){return{$:1,$0:[e.Segment$2(J?"True":"False")]};});l.rWildcard=g.New$1(function(J){return[[e.New(q.T.Empty,J.QueryArgs,J.FormData,J.Method,J.Body),m.concat("/",J.Segments)]];},function(J){return{$:1,$0:[e.Segment$2(J)]};});l.rDateTime=g.New$1(function(J){var K,L,M,N,O,P,Q,R,S;K=J.Segments;return K.$==1?(L=K.$0,L.length===19&&L[4]==="-"&&L[7]==="-"&&L[10]==="-"&&L[13]==="."&&L[16]==="."?(M=I(H.string(L,{$:1,$0:0},{$:1,$0:3})),(N=I(H.string(L,{$:1,$0:5},{$:1,$0:6})),(O=I(H.string(L,{$:1,$0:8},{$:1,$0:9})),(P=I(H.string(L,{$:1,$0:11},{$:1,$0:12})),(Q=I(H.string(L,{$:1,$0:14},{$:1,$0:15})),(R=I(H.string(L,{$:1,$0:17},{$:1,$0:18})),M!=null&&M.$==1&&(N!=null&&N.$==1&&(O!=null&&O.$==1&&(P!=null&&P.$==1&&(Q!=null&&Q.$==1&&(R!=null&&R.$==1&&(S=[O.$0,P.$0,N.$0,Q.$0,R.$0,M.$0],true))))))?[[e.New(K.$1,J.QueryArgs,J.FormData,J.Method,J.Body),(new a.Date(S[5],S[2]-1,S[0],S[1],S[3],S[4])).getTime()]]:[])))))):[]):[];},function(J){var K,L;function M(N){var O;O=a.String(N);return O.length===1?"0"+O:O;}return{$:1,$0:[e.Segment$2((K=a.String((new a.Date(J)).getFullYear()),(L=K.length,L===1?"000"+K:L===2?"00"+K:L===3?"0"+K:K))+"-"+M((new a.Date(J)).getMonth()+1)+"-"+M((new a.Date(J)).getDate())+"-"+M((new a.Date(J)).getHours())+"."+M((new a.Date(J)).getMinutes())+"."+M((new a.Date(J)).getSeconds()))]};});};}());
